{
  "info": {
    "name": "NgasihTau API",
    "description": "API collection for NgasihTau backend services",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {"key": "base_url", "value": "http://localhost:8001", "type": "string"},
    {"key": "pod_base_url", "value": "http://localhost:8002", "type": "string"},
    {"key": "access_token", "value": "", "type": "string"},
    {"key": "refresh_token", "value": "", "type": "string"},
    {"key": "user_id", "value": "", "type": "string"},
    {"key": "pod_id", "value": "", "type": "string"},
    {"key": "temp_token", "value": "", "type": "string"},
    {"key": "device_id", "value": "", "type": "string"},
    {"key": "material_id", "value": "", "type": "string"},
    {"key": "license_id", "value": "", "type": "string"},
    {"key": "license_nonce", "value": "", "type": "string"},
    {"key": "job_id", "value": "", "type": "string"}
  ],
  "item": [
    {
      "name": "User Service",
      "item": [
        {
          "name": "Auth",
          "item": [
            {
              "name": "Register",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 201) {",
                      "    var jsonData = pm.response.json();",
                      "    pm.collectionVariables.set('access_token', jsonData.data.access_token);",
                      "    pm.collectionVariables.set('refresh_token', jsonData.data.refresh_token);",
                      "    pm.collectionVariables.set('user_id', jsonData.data.user.id);",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"Password123!\",\n  \"name\": \"Test User\"\n}"
                },
                "url": {"raw": "{{base_url}}/api/v1/auth/register", "host": ["{{base_url}}"], "path": ["api", "v1", "auth", "register"]}
              }
            },
            {
              "name": "Login",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 200) {",
                      "    var jsonData = pm.response.json();",
                      "    if (jsonData.data.access_token) {",
                      "        pm.collectionVariables.set('access_token', jsonData.data.access_token);",
                      "        pm.collectionVariables.set('refresh_token', jsonData.data.refresh_token);",
                      "        pm.collectionVariables.set('user_id', jsonData.data.user.id);",
                      "    } else if (jsonData.data.temp_token) {",
                      "        pm.collectionVariables.set('temp_token', jsonData.data.temp_token);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"Password123!\"\n}"
                },
                "url": {"raw": "{{base_url}}/api/v1/auth/login", "host": ["{{base_url}}"], "path": ["api", "v1", "auth", "login"]}
              }
            },
            {
              "name": "Google Login",
              "request": {
                "method": "POST",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"code\": \"google_auth_code_here\",\n  \"redirect_uri\": \"http://localhost:3000/auth/google/callback\"\n}"
                },
                "url": {"raw": "{{base_url}}/api/v1/auth/google", "host": ["{{base_url}}"], "path": ["api", "v1", "auth", "google"]}
              }
            },
            {
              "name": "Refresh Token",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 200) {",
                      "    var jsonData = pm.response.json();",
                      "    pm.collectionVariables.set('access_token', jsonData.data.access_token);",
                      "    pm.collectionVariables.set('refresh_token', jsonData.data.refresh_token);",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"refresh_token\": \"{{refresh_token}}\"\n}"
                },
                "url": {"raw": "{{base_url}}/api/v1/auth/refresh", "host": ["{{base_url}}"], "path": ["api", "v1", "auth", "refresh"]}
              }
            },
            {
              "name": "Logout",
              "request": {
                "method": "POST",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"refresh_token\": \"{{refresh_token}}\"\n}"
                },
                "url": {"raw": "{{base_url}}/api/v1/auth/logout", "host": ["{{base_url}}"], "path": ["api", "v1", "auth", "logout"]}
              }
            },
            {
              "name": "Verify Email",
              "request": {
                "method": "POST",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"token\": \"email_verification_token_here\"\n}"
                },
                "url": {"raw": "{{base_url}}/api/v1/auth/verify-email", "host": ["{{base_url}}"], "path": ["api", "v1", "auth", "verify-email"]}
              }
            },
            {
              "name": "Send Verification Email",
              "request": {
                "method": "POST",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "url": {"raw": "{{base_url}}/api/v1/auth/send-verification", "host": ["{{base_url}}"], "path": ["api", "v1", "auth", "send-verification"]}
              }
            },
            {
              "name": "Forgot Password",
              "request": {
                "method": "POST",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"test@example.com\"\n}"
                },
                "url": {"raw": "{{base_url}}/api/v1/auth/password/forgot", "host": ["{{base_url}}"], "path": ["api", "v1", "auth", "password", "forgot"]}
              }
            },
            {
              "name": "Reset Password",
              "request": {
                "method": "POST",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"token\": \"reset_token_here\",\n  \"new_password\": \"NewPassword123!\"\n}"
                },
                "url": {"raw": "{{base_url}}/api/v1/auth/password/reset", "host": ["{{base_url}}"], "path": ["api", "v1", "auth", "password", "reset"]}
              }
            }
          ]
        },
        {
          "name": "2FA",
          "item": [
            {
              "name": "Enable 2FA",
              "request": {
                "method": "POST",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "url": {"raw": "{{base_url}}/api/v1/auth/2fa/enable", "host": ["{{base_url}}"], "path": ["api", "v1", "auth", "2fa", "enable"]}
              }
            },
            {
              "name": "Verify 2FA Setup",
              "request": {
                "method": "POST",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"code\": \"123456\"\n}"
                },
                "url": {"raw": "{{base_url}}/api/v1/auth/2fa/verify", "host": ["{{base_url}}"], "path": ["api", "v1", "auth", "2fa", "verify"]}
              }
            },
            {
              "name": "Disable 2FA",
              "request": {
                "method": "POST",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"code\": \"123456\"\n}"
                },
                "url": {"raw": "{{base_url}}/api/v1/auth/2fa/disable", "host": ["{{base_url}}"], "path": ["api", "v1", "auth", "2fa", "disable"]}
              }
            },
            {
              "name": "2FA Login",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 200) {",
                      "    var jsonData = pm.response.json();",
                      "    pm.collectionVariables.set('access_token', jsonData.data.access_token);",
                      "    pm.collectionVariables.set('refresh_token', jsonData.data.refresh_token);",
                      "    pm.collectionVariables.set('user_id', jsonData.data.user.id);",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [{"key": "Content-Type", "value": "application/json"}],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"temp_token\": \"{{temp_token}}\",\n  \"code\": \"123456\"\n}"
                },
                "url": {"raw": "{{base_url}}/api/v1/auth/2fa/login", "host": ["{{base_url}}"], "path": ["api", "v1", "auth", "2fa", "login"]}
              }
            }
          ]
        },
        {
          "name": "Users",
          "item": [
            {
              "name": "Get Current User",
              "request": {
                "method": "GET",
                "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
                "url": {"raw": "{{base_url}}/api/v1/users/me", "host": ["{{base_url}}"], "path": ["api", "v1", "users", "me"]}
              }
            },
            {
              "name": "Update Current User",
              "request": {
                "method": "PUT",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Updated Name\",\n  \"bio\": \"This is my bio\",\n  \"language\": \"en\"\n}"
                },
                "url": {"raw": "{{base_url}}/api/v1/users/me", "host": ["{{base_url}}"], "path": ["api", "v1", "users", "me"]}
              }
            },
            {
              "name": "Get User Profile",
              "request": {
                "method": "GET",
                "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
                "url": {"raw": "{{base_url}}/api/v1/users/{{user_id}}", "host": ["{{base_url}}"], "path": ["api", "v1", "users", "{{user_id}}"]}
              }
            },
            {
              "name": "Follow User",
              "request": {
                "method": "POST",
                "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
                "url": {"raw": "{{base_url}}/api/v1/users/{{user_id}}/follow", "host": ["{{base_url}}"], "path": ["api", "v1", "users", "{{user_id}}", "follow"]}
              }
            },
            {
              "name": "Unfollow User",
              "request": {
                "method": "DELETE",
                "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
                "url": {"raw": "{{base_url}}/api/v1/users/{{user_id}}/follow", "host": ["{{base_url}}"], "path": ["api", "v1", "users", "{{user_id}}", "follow"]}
              }
            },
            {
              "name": "Get User Followers",
              "request": {
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/api/v1/users/{{user_id}}/followers?page=1&per_page=20",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "users", "{{user_id}}", "followers"],
                  "query": [{"key": "page", "value": "1"}, {"key": "per_page", "value": "20"}]
                }
              }
            },
            {
              "name": "Get User Following",
              "request": {
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/api/v1/users/{{user_id}}/following?page=1&per_page=20",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "users", "{{user_id}}", "following"],
                  "query": [{"key": "page", "value": "1"}, {"key": "per_page", "value": "20"}]
                }
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Pod Service",
      "item": [
        {
          "name": "Pods",
          "item": [
            {
              "name": "Create Pod",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 201) {",
                      "    var jsonData = pm.response.json();",
                      "    pm.collectionVariables.set('pod_id', jsonData.data.id);",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"My Learning Pod\",\n  \"description\": \"A pod for learning materials\",\n  \"visibility\": \"public\",\n  \"categories\": [\"programming\", \"web-development\"],\n  \"tags\": [\"javascript\", \"react\", \"nodejs\"]\n}"
                },
                "url": {"raw": "{{pod_base_url}}/api/v1/pods", "host": ["{{pod_base_url}}"], "path": ["api", "v1", "pods"]}
              }
            },
            {
              "name": "List Pods",
              "request": {
                "method": "GET",
                "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
                "url": {
                  "raw": "{{pod_base_url}}/api/v1/pods?page=1&per_page=20",
                  "host": ["{{pod_base_url}}"],
                  "path": ["api", "v1", "pods"],
                  "query": [
                    {"key": "page", "value": "1"},
                    {"key": "per_page", "value": "20"},
                    {"key": "category", "value": "", "disabled": true},
                    {"key": "visibility", "value": "", "disabled": true},
                    {"key": "owner_id", "value": "", "disabled": true}
                  ]
                }
              }
            },
            {
              "name": "Get Pod",
              "request": {
                "method": "GET",
                "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
                "url": {"raw": "{{pod_base_url}}/api/v1/pods/{{pod_id}}", "host": ["{{pod_base_url}}"], "path": ["api", "v1", "pods", "{{pod_id}}"]}
              }
            },
            {
              "name": "Update Pod",
              "request": {
                "method": "PUT",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Updated Pod Name\",\n  \"description\": \"Updated description\",\n  \"visibility\": \"private\",\n  \"categories\": [\"programming\"],\n  \"tags\": [\"python\"]\n}"
                },
                "url": {"raw": "{{pod_base_url}}/api/v1/pods/{{pod_id}}", "host": ["{{pod_base_url}}"], "path": ["api", "v1", "pods", "{{pod_id}}"]}
              }
            },
            {
              "name": "Delete Pod",
              "request": {
                "method": "DELETE",
                "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
                "url": {"raw": "{{pod_base_url}}/api/v1/pods/{{pod_id}}", "host": ["{{pod_base_url}}"], "path": ["api", "v1", "pods", "{{pod_id}}"]}
              }
            },
            {
              "name": "Fork Pod",
              "request": {
                "method": "POST",
                "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
                "url": {"raw": "{{pod_base_url}}/api/v1/pods/{{pod_id}}/fork", "host": ["{{pod_base_url}}"], "path": ["api", "v1", "pods", "{{pod_id}}", "fork"]}
              }
            }
          ]
        },
        {
          "name": "Stars & Follows",
          "item": [
            {
              "name": "Star Pod",
              "request": {
                "method": "POST",
                "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
                "url": {"raw": "{{pod_base_url}}/api/v1/pods/{{pod_id}}/star", "host": ["{{pod_base_url}}"], "path": ["api", "v1", "pods", "{{pod_id}}", "star"]}
              }
            },
            {
              "name": "Unstar Pod",
              "request": {
                "method": "DELETE",
                "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
                "url": {"raw": "{{pod_base_url}}/api/v1/pods/{{pod_id}}/star", "host": ["{{pod_base_url}}"], "path": ["api", "v1", "pods", "{{pod_id}}", "star"]}
              }
            },
            {
              "name": "Follow Pod",
              "request": {
                "method": "POST",
                "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
                "url": {"raw": "{{pod_base_url}}/api/v1/pods/{{pod_id}}/follow", "host": ["{{pod_base_url}}"], "path": ["api", "v1", "pods", "{{pod_id}}", "follow"]}
              }
            },
            {
              "name": "Unfollow Pod",
              "request": {
                "method": "DELETE",
                "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
                "url": {"raw": "{{pod_base_url}}/api/v1/pods/{{pod_id}}/follow", "host": ["{{pod_base_url}}"], "path": ["api", "v1", "pods", "{{pod_id}}", "follow"]}
              }
            }
          ]
        },
        {
          "name": "Collaborators",
          "item": [
            {
              "name": "Get Collaborators",
              "request": {
                "method": "GET",
                "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
                "url": {"raw": "{{pod_base_url}}/api/v1/pods/{{pod_id}}/collaborators", "host": ["{{pod_base_url}}"], "path": ["api", "v1", "pods", "{{pod_id}}", "collaborators"]}
              }
            },
            {
              "name": "Invite Collaborator",
              "request": {
                "method": "POST",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"user_id\": \"user-uuid-here\",\n  \"role\": \"contributor\"\n}"
                },
                "url": {"raw": "{{pod_base_url}}/api/v1/pods/{{pod_id}}/collaborators", "host": ["{{pod_base_url}}"], "path": ["api", "v1", "pods", "{{pod_id}}", "collaborators"]}
              }
            },
            {
              "name": "Update Collaborator (Verify)",
              "request": {
                "method": "PUT",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"action\": \"verify\"\n}"
                },
                "url": {"raw": "{{pod_base_url}}/api/v1/pods/{{pod_id}}/collaborators/{{user_id}}", "host": ["{{pod_base_url}}"], "path": ["api", "v1", "pods", "{{pod_id}}", "collaborators", "{{user_id}}"]}
              }
            },
            {
              "name": "Update Collaborator (Role)",
              "request": {
                "method": "PUT",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"action\": \"update_role\",\n  \"role\": \"admin\"\n}"
                },
                "url": {"raw": "{{pod_base_url}}/api/v1/pods/{{pod_id}}/collaborators/{{user_id}}", "host": ["{{pod_base_url}}"], "path": ["api", "v1", "pods", "{{pod_id}}", "collaborators", "{{user_id}}"]}
              }
            },
            {
              "name": "Remove Collaborator",
              "request": {
                "method": "DELETE",
                "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
                "url": {"raw": "{{pod_base_url}}/api/v1/pods/{{pod_id}}/collaborators/{{user_id}}", "host": ["{{pod_base_url}}"], "path": ["api", "v1", "pods", "{{pod_id}}", "collaborators", "{{user_id}}"]}
              }
            }
          ]
        },
        {
          "name": "Activity & Feed",
          "item": [
            {
              "name": "Get Pod Activity",
              "request": {
                "method": "GET",
                "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
                "url": {
                  "raw": "{{pod_base_url}}/api/v1/pods/{{pod_id}}/activity?page=1&per_page=20",
                  "host": ["{{pod_base_url}}"],
                  "path": ["api", "v1", "pods", "{{pod_id}}", "activity"],
                  "query": [{"key": "page", "value": "1"}, {"key": "per_page", "value": "20"}]
                }
              }
            },
            {
              "name": "Get User Feed",
              "request": {
                "method": "GET",
                "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
                "url": {
                  "raw": "{{pod_base_url}}/api/v1/feed?page=1&per_page=20",
                  "host": ["{{pod_base_url}}"],
                  "path": ["api", "v1", "feed"],
                  "query": [{"key": "page", "value": "1"}, {"key": "per_page", "value": "20"}]
                }
              }
            },
            {
              "name": "Get User Pods",
              "request": {
                "method": "GET",
                "url": {
                  "raw": "{{pod_base_url}}/api/v1/users/{{user_id}}/pods?page=1&per_page=20",
                  "host": ["{{pod_base_url}}"],
                  "path": ["api", "v1", "users", "{{user_id}}", "pods"],
                  "query": [{"key": "page", "value": "1"}, {"key": "per_page", "value": "20"}]
                }
              }
            },
            {
              "name": "Get User Starred Pods",
              "request": {
                "method": "GET",
                "url": {
                  "raw": "{{pod_base_url}}/api/v1/users/{{user_id}}/starred?page=1&per_page=20",
                  "host": ["{{pod_base_url}}"],
                  "path": ["api", "v1", "users", "{{user_id}}", "starred"],
                  "query": [{"key": "page", "value": "1"}, {"key": "per_page", "value": "20"}]
                }
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Offline Service",
      "item": [
        {
          "name": "Devices",
          "item": [
            {
              "name": "Register Device",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 201) {",
                      "    var jsonData = pm.response.json();",
                      "    pm.collectionVariables.set('device_id', jsonData.data.id);",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"fingerprint\": \"a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6\",\n  \"name\": \"My iPhone\",\n  \"platform\": \"ios\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/api/v1/offline/devices",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "offline", "devices"]
                }
              }
            },
            {
              "name": "List Devices",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "url": {
                  "raw": "{{base_url}}/api/v1/offline/devices",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "offline", "devices"]
                }
              }
            },
            {
              "name": "Deregister Device",
              "request": {
                "method": "DELETE",
                "header": [
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "url": {
                  "raw": "{{base_url}}/api/v1/offline/devices/{{device_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "offline", "devices", "{{device_id}}"]
                }
              }
            }
          ]
        },
        {
          "name": "Licenses",
          "item": [
            {
              "name": "Issue License",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 201) {",
                      "    var jsonData = pm.response.json();",
                      "    pm.collectionVariables.set('license_id', jsonData.data.id);",
                      "    pm.collectionVariables.set('license_nonce', jsonData.data.nonce);",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"device_id\": \"{{device_id}}\",\n  \"fingerprint\": \"a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/api/v1/offline/materials/{{material_id}}/license",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "offline", "materials", "{{material_id}}", "license"]
                }
              }
            },
            {
              "name": "Validate License",
              "request": {
                "method": "POST",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"fingerprint\": \"a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6\",\n  \"nonce\": \"{{license_nonce}}\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/api/v1/offline/licenses/{{license_id}}/validate",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "offline", "licenses", "{{license_id}}", "validate"]
                }
              }
            },
            {
              "name": "Renew License",
              "request": {
                "method": "POST",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"fingerprint\": \"a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/api/v1/offline/licenses/{{license_id}}/renew",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "offline", "licenses", "{{license_id}}", "renew"]
                }
              }
            }
          ]
        },
        {
          "name": "Downloads",
          "item": [
            {
              "name": "Download Material",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "url": {
                  "raw": "{{base_url}}/api/v1/offline/materials/{{material_id}}/download?device_id={{device_id}}&fingerprint=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6&license_id={{license_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "offline", "materials", "{{material_id}}", "download"],
                  "query": [
                    {"key": "device_id", "value": "{{device_id}}"},
                    {"key": "fingerprint", "value": "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6"},
                    {"key": "license_id", "value": "{{license_id}}"}
                  ]
                }
              }
            },
            {
              "name": "Download Material (Range Request)",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "Authorization", "value": "Bearer {{access_token}}"},
                  {"key": "Range", "value": "bytes=0-1048575"}
                ],
                "url": {
                  "raw": "{{base_url}}/api/v1/offline/materials/{{material_id}}/download?device_id={{device_id}}&fingerprint=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6&license_id={{license_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "offline", "materials", "{{material_id}}", "download"],
                  "query": [
                    {"key": "device_id", "value": "{{device_id}}"},
                    {"key": "fingerprint", "value": "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6"},
                    {"key": "license_id", "value": "{{license_id}}"}
                  ]
                }
              }
            }
          ]
        },
        {
          "name": "Jobs",
          "item": [
            {
              "name": "Get Job Status",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "url": {
                  "raw": "{{base_url}}/api/v1/offline/jobs/{{job_id}}",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "offline", "jobs", "{{job_id}}"]
                }
              }
            },
            {
              "name": "Get Job for Material",
              "request": {
                "method": "GET",
                "header": [
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "url": {
                  "raw": "{{base_url}}/api/v1/offline/materials/{{material_id}}/job",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "offline", "materials", "{{material_id}}", "job"]
                }
              }
            }
          ]
        },
        {
          "name": "Sync",
          "item": [
            {
              "name": "Sync Offline State",
              "request": {
                "method": "POST",
                "header": [
                  {"key": "Content-Type", "value": "application/json"},
                  {"key": "Authorization", "value": "Bearer {{access_token}}"}
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"device_id\": \"{{device_id}}\",\n  \"fingerprint\": \"a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6\",\n  \"last_sync_at\": \"2025-01-15T10:00:00Z\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/api/v1/offline/sync",
                  "host": ["{{base_url}}"],
                  "path": ["api", "v1", "offline", "sync"]
                }
              }
            }
          ]
        },
        {
          "name": "Health",
          "item": [
            {
              "name": "Liveness Probe",
              "request": {
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/health/live",
                  "host": ["{{base_url}}"],
                  "path": ["health", "live"]
                }
              }
            },
            {
              "name": "Readiness Probe",
              "request": {
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/health/ready",
                  "host": ["{{base_url}}"],
                  "path": ["health", "ready"]
                }
              }
            },
            {
              "name": "Full Health Check",
              "request": {
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/health/full",
                  "host": ["{{base_url}}"],
                  "path": ["health", "full"]
                }
              }
            }
          ]
        }
      ]
    }
  ]
}