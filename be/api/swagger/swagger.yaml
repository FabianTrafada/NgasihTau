basePath: /api/v1
definitions:
  application.CategoryGroup:
    properties:
      category:
        type: string
      interests:
        items:
          $ref: '#/definitions/domain.PredefinedInterest'
        type: array
    type: object
  application.CreatePodInput:
    properties:
      categories:
        items:
          type: string
        maxItems: 5
        type: array
      description:
        maxLength: 2000
        type: string
      name:
        maxLength: 100
        minLength: 3
        type: string
      tags:
        items:
          type: string
        maxItems: 10
        type: array
      visibility:
        allOf:
        - $ref: '#/definitions/domain.Visibility'
        enum:
        - public
        - private
    required:
    - name
    - visibility
    type: object
  application.GroupedInterestsResult:
    properties:
      categories:
        items:
          $ref: '#/definitions/application.CategoryGroup'
        type: array
      total:
        type: integer
    type: object
  application.OnboardingStatus:
    properties:
      interests:
        items:
          $ref: '#/definitions/domain.InterestSummary'
        type: array
      interests_count:
        type: integer
      onboarding_completed:
        type: boolean
    type: object
  application.PredefinedInterestsResult:
    properties:
      interests:
        items:
          $ref: '#/definitions/domain.PredefinedInterest'
        type: array
      total:
        type: integer
    type: object
  application.UpdatePodInput:
    properties:
      categories:
        items:
          type: string
        maxItems: 5
        type: array
      description:
        maxLength: 2000
        type: string
      name:
        maxLength: 100
        minLength: 3
        type: string
      tags:
        items:
          type: string
        maxItems: 10
        type: array
      visibility:
        allOf:
        - $ref: '#/definitions/domain.Visibility'
        enum:
        - public
        - private
    type: object
  application.UserInterestsResult:
    properties:
      interests:
        items:
          $ref: '#/definitions/domain.InterestSummary'
        type: array
      total:
        type: integer
    type: object
  docs.ErrorBody:
    properties:
      code:
        example: VALIDATION_ERROR
        type: string
      details:
        items:
          $ref: '#/definitions/docs.ErrorDetail'
        type: array
      message:
        example: Invalid input data
        type: string
    type: object
  docs.ErrorDetail:
    properties:
      field:
        example: email
        type: string
      message:
        example: Invalid email format
        type: string
    type: object
  docs.ErrorResponse:
    description: Standard error response format
    properties:
      error:
        $ref: '#/definitions/docs.ErrorBody'
      meta:
        $ref: '#/definitions/docs.Meta'
      success:
        example: false
        type: boolean
    type: object
  docs.MessageResponse:
    description: Success response with a message
    properties:
      data:
        additionalProperties:
          type: string
        type: object
      meta:
        $ref: '#/definitions/docs.Meta'
      success:
        example: true
        type: boolean
    type: object
  docs.Meta:
    properties:
      request_id:
        example: req_abc123
        type: string
      timestamp:
        example: "2025-12-08T10:00:00Z"
        type: string
    type: object
  docs.SuccessResponse:
    description: Standard success response format
    properties:
      data: {}
      meta:
        $ref: '#/definitions/docs.Meta'
      success:
        example: true
        type: boolean
    type: object
  docs.SuggestedQuestionsResponse:
    description: Suggested questions for AI chat
    properties:
      questions:
        example:
        - What are the key concepts?
        - Can you explain the main idea?
        - What are the practical applications?
        items:
          type: string
        type: array
    type: object
  domain.Activity:
    properties:
      action:
        $ref: '#/definitions/domain.ActivityAction'
      created_at:
        type: string
      id:
        type: string
      metadata:
        $ref: '#/definitions/domain.ActivityMetadata'
      pod_id:
        type: string
      user_id:
        type: string
    type: object
  domain.ActivityAction:
    enum:
    - material_uploaded
    - collaborator_added
    - pod_updated
    - pod_forked
    type: string
    x-enum-varnames:
    - ActivityActionMaterialUploaded
    - ActivityActionCollaboratorAdded
    - ActivityActionPodUpdated
    - ActivityActionPodForked
  domain.ActivityMetadata:
    additionalProperties: {}
    type: object
  domain.Collaborator:
    properties:
      created_at:
        type: string
      id:
        type: string
      invited_by:
        type: string
      pod_id:
        type: string
      role:
        $ref: '#/definitions/domain.CollaboratorRole'
      status:
        $ref: '#/definitions/domain.CollaboratorStatus'
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  domain.CollaboratorRole:
    enum:
    - viewer
    - contributor
    - admin
    type: string
    x-enum-varnames:
    - CollaboratorRoleViewer
    - CollaboratorRoleContributor
    - CollaboratorRoleAdmin
  domain.CollaboratorStatus:
    enum:
    - pending
    - pending_verification
    - verified
    type: string
    x-enum-varnames:
    - CollaboratorStatusPending
    - CollaboratorStatusPendingVerification
    - CollaboratorStatusVerified
  domain.InteractionMetadata:
    properties:
      device_type:
        type: string
      material_id:
        type: string
      referrer:
        type: string
      scroll_depth:
        description: 0.0 - 1.0
        type: number
      search_query:
        type: string
      time_spent_seconds:
        type: integer
    type: object
  domain.InterestSummary:
    properties:
      category:
        type: string
      icon:
        type: string
      id:
        type: string
      is_custom:
        type: boolean
      name:
        type: string
      slug:
        type: string
    type: object
  domain.Pod:
    properties:
      categories:
        items:
          type: string
        type: array
      created_at:
        type: string
      description:
        type: string
      fork_count:
        type: integer
      forked_from_id:
        type: string
      id:
        type: string
      is_verified:
        description: True if created by teacher (Req 1.4, 2.4, 6.1)
        type: boolean
      name:
        type: string
      owner_id:
        type: string
      slug:
        type: string
      star_count:
        type: integer
      tags:
        items:
          type: string
        type: array
      updated_at:
        type: string
      upvote_count:
        description: Trust indicator (Req 6.2)
        type: integer
      view_count:
        type: integer
      visibility:
        $ref: '#/definitions/domain.Visibility'
    type: object
  domain.PredefinedInterest:
    properties:
      category:
        type: string
      created_at:
        type: string
      description:
        type: string
      display_order:
        type: integer
      icon:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      name:
        type: string
      slug:
        type: string
      updated_at:
        type: string
    type: object
  domain.SharedPod:
    description: Shared pod information
    properties:
      created_at:
        type: string
      id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      message:
        example: I recommend this pod for your studies on Go programming.
        type: string
      pod_id:
        example: 550e8400-e29b-41d4-a716-446655440001
        type: string
      student_id:
        description: Student receiving share
        example: 550e8400-e29b-41d4-a716-446655440003
        type: string
      teacher_id:
        description: Teacher who shared
        example: 550e8400-e29b-41d4-a716-446655440002
        type: string
    type: object
  domain.SharedPodWithDetails:
    description: Shared pod with details
    properties:
      created_at:
        type: string
      id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      message:
        example: I recommend this pod for your studies on Go programming.
        type: string
      pod_id:
        example: 550e8400-e29b-41d4-a716-446655440001
        type: string
      pod_name:
        example: Introduction to Go Programming
        type: string
      pod_slug:
        example: introduction-to-go-programming
        type: string
      student_id:
        description: Student receiving share
        example: 550e8400-e29b-41d4-a716-446655440003
        type: string
      teacher_avatar:
        example: https://example.com/avatar.jpg
        type: string
      teacher_id:
        description: Teacher who shared
        example: 550e8400-e29b-41d4-a716-446655440002
        type: string
      teacher_name:
        example: Dr. John Smith
        type: string
    type: object
  domain.UploadRequest:
    description: Upload request information
    properties:
      created_at:
        type: string
      expires_at:
        description: Permission expiry
        type: string
      id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      message:
        description: Request message
        example: I would like to contribute additional materials on advanced topics.
        type: string
      pod_id:
        description: Target pod
        example: 550e8400-e29b-41d4-a716-446655440002
        type: string
      pod_owner_id:
        description: Pod owner (for quick lookup)
        example: 550e8400-e29b-41d4-a716-446655440003
        type: string
      rejection_reason:
        description: If rejected
        example: Not accepting contributions at this time.
        type: string
      requester_id:
        description: Teacher requesting access
        example: 550e8400-e29b-41d4-a716-446655440001
        type: string
      status:
        allOf:
        - $ref: '#/definitions/domain.UploadRequestStatus'
        example: pending
      updated_at:
        type: string
    type: object
  domain.UploadRequestStatus:
    enum:
    - pending
    - approved
    - rejected
    - revoked
    type: string
    x-enum-varnames:
    - UploadRequestStatusPending
    - UploadRequestStatusApproved
    - UploadRequestStatusRejected
    - UploadRequestStatusRevoked
  domain.Visibility:
    enum:
    - public
    - private
    type: string
    x-enum-varnames:
    - VisibilityPublic
    - VisibilityPrivate
  errors.ErrorBody:
    properties:
      code:
        type: string
      details:
        items:
          $ref: '#/definitions/errors.ErrorDetail'
        type: array
      message:
        type: string
    type: object
  errors.ErrorDetail:
    properties:
      field:
        type: string
      message:
        type: string
      value: {}
    type: object
  errors.ErrorResponse:
    properties:
      error:
        $ref: '#/definitions/errors.ErrorBody'
      meta:
        $ref: '#/definitions/errors.ResponseMeta'
      success:
        type: boolean
    type: object
  errors.ResponseMeta:
    properties:
      request_id:
        type: string
      timestamp:
        type: string
    type: object
  fiber.Map:
    additionalProperties: true
    type: object
  http.AIUsageInfoResponse:
    properties:
      daily_limit:
        type: integer
      is_unlimited:
        type: boolean
      remaining:
        type: integer
      reset_at:
        type: string
      tier:
        type: string
      used_today:
        type: integer
    type: object
  http.AddCommentRequest:
    properties:
      content:
        maxLength: 2000
        type: string
      parent_id:
        type: string
    required:
    - content
    type: object
  http.AddInterestRequest:
    properties:
      custom_interest:
        maxLength: 100
        minLength: 2
        type: string
      predefined_interest_id:
        type: string
    type: object
  http.AuthResponse:
    properties:
      access_token:
        type: string
      expires_in:
        type: integer
      refresh_token:
        type: string
      user:
        $ref: '#/definitions/http.UserResponse'
    type: object
  http.BookmarkMaterialRequest:
    properties:
      folder:
        maxLength: 100
        type: string
    type: object
  http.CategoryPreferenceResponse:
    properties:
      category:
        type: string
      rank:
        type: integer
      score:
        type: number
    type: object
  http.ChatRequest:
    properties:
      message:
        maxLength: 2000
        minLength: 1
        type: string
    required:
    - message
    type: object
  http.ConfirmUploadRequest:
    properties:
      description:
        maxLength: 2000
        type: string
      object_key:
        type: string
      pod_id:
        type: string
      title:
        maxLength: 255
        type: string
    required:
    - object_key
    - pod_id
    - title
    type: object
  http.CreateUploadRequestInput:
    description: Create upload request input
    properties:
      message:
        example: I would like to contribute additional materials on advanced topics.
        type: string
    type: object
  http.CreateVersionRequest:
    properties:
      changelog:
        maxLength: 1000
        type: string
      object_key:
        type: string
    required:
    - object_key
    type: object
  http.ExportChatRequest:
    properties:
      format:
        enum:
        - pdf
        - markdown
        type: string
    required:
    - format
    type: object
  http.FeedbackRequest:
    properties:
      feedback:
        enum:
        - thumbs_up
        - thumbs_down
        type: string
      feedback_text:
        type: string
    required:
    - feedback
    type: object
  http.GenerateQuestionsRequest:
    properties:
      count:
        description: default 5, max 20
        type: integer
      question_type:
        description: multiple_choice, true_false, short_answer, mixed
        type: string
    type: object
  http.GoogleLoginRequest:
    properties:
      code:
        type: string
      redirect_uri:
        type: string
    required:
    - code
    - redirect_uri
    type: object
  http.InviteCollaboratorRequest:
    description: Invite collaborator request with email and role
    properties:
      email:
        example: collaborator@example.com
        type: string
      role:
        enum:
        - viewer
        - contributor
        - admin
        example: collaborator
        type: string
    type: object
  http.LoginRequest:
    properties:
      email:
        type: string
      password:
        type: string
    required:
    - email
    - password
    type: object
  http.LogoutRequest:
    properties:
      refresh_token:
        type: string
    required:
    - refresh_token
    type: object
  http.PasswordResetConfirmRequest:
    properties:
      new_password:
        minLength: 8
        type: string
      token:
        type: string
    required:
    - new_password
    - token
    type: object
  http.PasswordResetRequest:
    properties:
      email:
        type: string
    required:
    - email
    type: object
  http.PodResponse:
    properties:
      categories:
        items:
          type: string
        type: array
      description:
        type: string
      id:
        type: string
      name:
        type: string
      slug:
        type: string
      star_count:
        type: integer
      tags:
        items:
          type: string
        type: array
      view_count:
        type: integer
    type: object
  http.RateMaterialRequest:
    properties:
      review:
        maxLength: 2000
        type: string
      score:
        maximum: 5
        minimum: 1
        type: integer
    required:
    - score
    type: object
  http.RecommendedFeedResponse:
    properties:
      has_more:
        type: boolean
      is_personalized:
        type: boolean
      page:
        type: integer
      per_page:
        type: integer
      pods:
        items:
          $ref: '#/definitions/http.RecommendedPodResponse'
        type: array
    type: object
  http.RecommendedPodResponse:
    properties:
      categories:
        items:
          type: string
        type: array
      description:
        type: string
      id:
        type: string
      matched_categories:
        items:
          type: string
        type: array
      matched_tags:
        items:
          type: string
        type: array
      name:
        type: string
      recommendation_score:
        type: number
      slug:
        type: string
      star_count:
        type: integer
      tags:
        items:
          type: string
        type: array
      view_count:
        type: integer
    type: object
  http.RefreshTokenRequest:
    properties:
      refresh_token:
        type: string
    required:
    - refresh_token
    type: object
  http.RegisterRequest:
    properties:
      email:
        type: string
      name:
        maxLength: 100
        minLength: 2
        type: string
      password:
        minLength: 8
        type: string
    required:
    - email
    - name
    - password
    type: object
  http.RejectUploadRequestInput:
    description: Reject upload request input
    properties:
      reason:
        example: Not accepting contributions at this time.
        type: string
    type: object
  http.RejectVerificationRequest:
    description: Reject verification request
    properties:
      reason:
        example: The submitted document is not clear. Please resubmit with a higher
          quality image.
        maxLength: 1000
        minLength: 1
        type: string
    required:
    - reason
    type: object
  http.SetInterestsRequest:
    properties:
      custom_interests:
        items:
          type: string
        type: array
      predefined_interest_ids:
        items:
          type: string
        type: array
    type: object
  http.SharePodInput:
    description: Share pod with student input
    properties:
      message:
        example: I recommend this pod for your studies on Go programming.
        type: string
      student_id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
    required:
    - student_id
    type: object
  http.SimilarPodsResponse:
    properties:
      pods:
        items:
          $ref: '#/definitions/http.PodResponse'
        type: array
    type: object
  http.StorageInfoResponse:
    properties:
      next_tier:
        type: string
      next_tier_quota:
        type: integer
      quota_bytes:
        type: integer
      remaining_bytes:
        type: integer
      tier:
        type: string
      usage_percent:
        type: number
      used_bytes:
        type: integer
      warning:
        type: string
    type: object
  http.SubmitVerificationRequest:
    description: Teacher verification submission request
    properties:
      credential_type:
        enum:
        - government_id
        - educator_card
        - professional_cert
        example: educator_card
        type: string
      document_ref:
        example: doc_ref_abc123xyz
        maxLength: 500
        type: string
      full_name:
        example: Dr. John Smith
        maxLength: 255
        minLength: 3
        type: string
      id_number:
        example: "3275012345678901"
        maxLength: 100
        minLength: 10
        type: string
    required:
    - credential_type
    - document_ref
    - full_name
    - id_number
    type: object
  http.TagPreferenceResponse:
    properties:
      rank:
        type: integer
      score:
        type: number
      tag:
        type: string
    type: object
  http.TeacherVerificationResponse:
    description: Teacher verification information
    properties:
      created_at:
        type: string
      credential_type:
        example: educator_card
        type: string
      document_ref:
        example: doc_ref_abc123xyz
        type: string
      full_name:
        example: Dr. John Smith
        type: string
      id:
        example: 550e8400-e29b-41d4-a716-446655440000
        type: string
      id_number:
        example: "3275012345678901"
        type: string
      rejection_reason:
        example: Document not clear
        type: string
      reviewed_at:
        type: string
      reviewed_by:
        example: 550e8400-e29b-41d4-a716-446655440002
        type: string
      status:
        example: pending
        type: string
      updated_at:
        type: string
      user_id:
        example: 550e8400-e29b-41d4-a716-446655440001
        type: string
    type: object
  http.TrackInteractionRequest:
    properties:
      interaction_type:
        enum:
        - view
        - star
        - unstar
        - follow
        - unfollow
        - fork
        - share
        - time_spent
        - material_view
        - material_bookmark
        - search_click
        - upvote
        - remove_upvote
        type: string
      metadata:
        $ref: '#/definitions/domain.InteractionMetadata'
      session_id:
        type: string
    required:
    - interaction_type
    type: object
  http.TrackTimeSpentRequest:
    properties:
      seconds:
        maximum: 3600
        minimum: 1
        type: integer
    required:
    - seconds
    type: object
  http.TrendingFeedResponse:
    properties:
      page:
        type: integer
      per_page:
        type: integer
      pods:
        items:
          $ref: '#/definitions/http.PodResponse'
        type: array
    type: object
  http.TwoFactorRequiredResponse:
    properties:
      temp_token:
        type: string
      two_factor_method:
        description: '"totp" or "backup_code"'
        type: string
    type: object
  http.TwoFactorSetupResponse:
    properties:
      backup_codes:
        items:
          type: string
        type: array
      qr_code_url:
        type: string
      secret:
        type: string
    type: object
  http.UpdateCommentRequest:
    properties:
      content:
        maxLength: 2000
        type: string
    required:
    - content
    type: object
  http.UpdateMaterialRequest:
    properties:
      description:
        maxLength: 2000
        type: string
      title:
        maxLength: 255
        type: string
    type: object
  http.UpdatePreferencesRequest:
    properties:
      email_comment_reply:
        type: boolean
      email_new_material:
        type: boolean
      email_pod_invite:
        type: boolean
      inapp_comment_reply:
        type: boolean
      inapp_new_material:
        type: boolean
      inapp_pod_invite:
        type: boolean
    type: object
  http.UpdateProfileRequest:
    properties:
      avatar_url:
        type: string
      bio:
        maxLength: 500
        type: string
      language:
        enum:
        - id
        - en
        type: string
      name:
        maxLength: 100
        minLength: 2
        type: string
    type: object
  http.UpdateTierRequest:
    properties:
      tier:
        enum:
        - free
        - premium
        - pro
        type: string
    required:
    - tier
    type: object
  http.UpdateTierResponse:
    properties:
      id:
        type: string
      tier:
        type: string
    type: object
  http.UploadURLRequest:
    properties:
      content_type:
        type: string
      filename:
        type: string
      size:
        description: 100MB max
        maximum: 104857600
        type: integer
    required:
    - content_type
    - filename
    - size
    type: object
  http.UserPreferencesResponse:
    properties:
      has_enough_data:
        type: boolean
      top_categories:
        items:
          $ref: '#/definitions/http.CategoryPreferenceResponse'
        type: array
      top_tags:
        items:
          $ref: '#/definitions/http.TagPreferenceResponse'
        type: array
      total_interactions:
        type: integer
    type: object
  http.UserProfileResponse:
    properties:
      avatar_url:
        type: string
      bio:
        type: string
      created_at:
        type: string
      follower_count:
        type: integer
      following_count:
        type: integer
      id:
        type: string
      is_following:
        description: Only when viewing another user's profile
        type: boolean
      material_count:
        type: integer
      name:
        type: string
      pod_count:
        type: integer
      role:
        type: string
    type: object
  http.UserResponse:
    properties:
      avatar_url:
        type: string
      bio:
        type: string
      created_at:
        type: string
      email:
        description: Only included for own profile
        type: string
      email_verified:
        description: Only included for own profile
        type: boolean
      id:
        type: string
      language:
        description: Only included for own profile
        type: string
      name:
        type: string
      onboarding_completed:
        description: Only included for own profile
        type: boolean
      role:
        type: string
      two_factor_enabled:
        description: Only included for own profile
        type: boolean
    type: object
  http.Verify2FALoginRequest:
    properties:
      code:
        maxLength: 10
        minLength: 6
        type: string
      temp_token:
        type: string
    required:
    - code
    - temp_token
    type: object
  http.Verify2FARequest:
    properties:
      code:
        maxLength: 10
        minLength: 6
        type: string
    required:
    - code
    type: object
  http.VerifyEmailRequest:
    properties:
      token:
        type: string
    required:
    - token
    type: object
  map_string_array_string:
    additionalProperties:
      items:
        type: string
      type: array
    type: object
  map_string_bool:
    additionalProperties:
      type: boolean
    type: object
  map_string_string:
    additionalProperties:
      type: string
    type: object
  response.Meta:
    properties:
      request_id:
        type: string
      timestamp:
        type: string
    type: object
  response.PaginatedResponse-any:
    properties:
      data:
        items: {}
        type: array
      meta:
        $ref: '#/definitions/response.Meta'
      pagination:
        $ref: '#/definitions/response.Pagination'
      success:
        type: boolean
    type: object
  response.PaginatedResponse-domain_Activity:
    properties:
      data:
        items:
          $ref: '#/definitions/domain.Activity'
        type: array
      meta:
        $ref: '#/definitions/response.Meta'
      pagination:
        $ref: '#/definitions/response.Pagination'
      success:
        type: boolean
    type: object
  response.PaginatedResponse-domain_Pod:
    properties:
      data:
        items:
          $ref: '#/definitions/domain.Pod'
        type: array
      meta:
        $ref: '#/definitions/response.Meta'
      pagination:
        $ref: '#/definitions/response.Pagination'
      success:
        type: boolean
    type: object
  response.PaginatedResponse-domain_SharedPodWithDetails:
    properties:
      data:
        items:
          $ref: '#/definitions/domain.SharedPodWithDetails'
        type: array
      meta:
        $ref: '#/definitions/response.Meta'
      pagination:
        $ref: '#/definitions/response.Pagination'
      success:
        type: boolean
    type: object
  response.PaginatedResponse-domain_UploadRequest:
    properties:
      data:
        items:
          $ref: '#/definitions/domain.UploadRequest'
        type: array
      meta:
        $ref: '#/definitions/response.Meta'
      pagination:
        $ref: '#/definitions/response.Pagination'
      success:
        type: boolean
    type: object
  response.PaginatedResponse-http_TeacherVerificationResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/http.TeacherVerificationResponse'
        type: array
      meta:
        $ref: '#/definitions/response.Meta'
      pagination:
        $ref: '#/definitions/response.Pagination'
      success:
        type: boolean
    type: object
  response.PaginatedResponse-http_UserResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/http.UserResponse'
        type: array
      meta:
        $ref: '#/definitions/response.Meta'
      pagination:
        $ref: '#/definitions/response.Pagination'
      success:
        type: boolean
    type: object
  response.Pagination:
    properties:
      page:
        type: integer
      per_page:
        type: integer
      total:
        type: integer
      total_pages:
        type: integer
    type: object
  response.Response-any:
    properties:
      data: {}
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-application_GroupedInterestsResult:
    properties:
      data:
        $ref: '#/definitions/application.GroupedInterestsResult'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-application_OnboardingStatus:
    properties:
      data:
        $ref: '#/definitions/application.OnboardingStatus'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-application_PredefinedInterestsResult:
    properties:
      data:
        $ref: '#/definitions/application.PredefinedInterestsResult'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-application_UserInterestsResult:
    properties:
      data:
        $ref: '#/definitions/application.UserInterestsResult'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-array_domain_Collaborator:
    properties:
      data:
        items:
          $ref: '#/definitions/domain.Collaborator'
        type: array
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-domain_Collaborator:
    properties:
      data:
        $ref: '#/definitions/domain.Collaborator'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-domain_InterestSummary:
    properties:
      data:
        $ref: '#/definitions/domain.InterestSummary'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-domain_Pod:
    properties:
      data:
        $ref: '#/definitions/domain.Pod'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-domain_SharedPod:
    properties:
      data:
        $ref: '#/definitions/domain.SharedPod'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-domain_UploadRequest:
    properties:
      data:
        $ref: '#/definitions/domain.UploadRequest'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-http_AIUsageInfoResponse:
    properties:
      data:
        $ref: '#/definitions/http.AIUsageInfoResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-http_AuthResponse:
    properties:
      data:
        $ref: '#/definitions/http.AuthResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-http_RecommendedFeedResponse:
    properties:
      data:
        $ref: '#/definitions/http.RecommendedFeedResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-http_SimilarPodsResponse:
    properties:
      data:
        $ref: '#/definitions/http.SimilarPodsResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-http_StorageInfoResponse:
    properties:
      data:
        $ref: '#/definitions/http.StorageInfoResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-http_TeacherVerificationResponse:
    properties:
      data:
        $ref: '#/definitions/http.TeacherVerificationResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-http_TrendingFeedResponse:
    properties:
      data:
        $ref: '#/definitions/http.TrendingFeedResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-http_TwoFactorRequiredResponse:
    properties:
      data:
        $ref: '#/definitions/http.TwoFactorRequiredResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-http_TwoFactorSetupResponse:
    properties:
      data:
        $ref: '#/definitions/http.TwoFactorSetupResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-http_UpdateTierResponse:
    properties:
      data:
        $ref: '#/definitions/http.UpdateTierResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-http_UserPreferencesResponse:
    properties:
      data:
        $ref: '#/definitions/http.UserPreferencesResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-http_UserProfileResponse:
    properties:
      data:
        $ref: '#/definitions/http.UserProfileResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-http_UserResponse:
    properties:
      data:
        $ref: '#/definitions/http.UserResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-map_string_array_string:
    properties:
      data:
        $ref: '#/definitions/map_string_array_string'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-map_string_bool:
    properties:
      data:
        $ref: '#/definitions/map_string_bool'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-map_string_string:
    properties:
      data:
        $ref: '#/definitions/map_string_string'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  # Offline Module Definitions
  offline.RegisterDeviceRequest:
    properties:
      fingerprint:
        description: Device fingerprint (32-512 characters)
        example: "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6"
        maxLength: 512
        minLength: 32
        type: string
      name:
        description: Device name
        example: "My iPhone"
        maxLength: 255
        minLength: 1
        type: string
      platform:
        description: Device platform
        enum:
        - ios
        - android
        - desktop
        example: "ios"
        type: string
    required:
    - fingerprint
    - name
    - platform
    type: object
  offline.DeviceResponse:
    properties:
      id:
        description: Device ID
        example: "550e8400-e29b-41d4-a716-446655440000"
        format: uuid
        type: string
      user_id:
        description: User ID
        example: "550e8400-e29b-41d4-a716-446655440001"
        format: uuid
        type: string
      fingerprint:
        description: Device fingerprint
        example: "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6"
        type: string
      name:
        description: Device name
        example: "My iPhone"
        type: string
      platform:
        description: Device platform
        example: "ios"
        type: string
      status:
        description: Device status
        enum:
        - active
        - revoked
        example: "active"
        type: string
      last_used_at:
        description: Last used timestamp
        example: "2025-01-15T10:30:00Z"
        format: date-time
        type: string
      created_at:
        description: Creation timestamp
        example: "2025-01-01T00:00:00Z"
        format: date-time
        type: string
    type: object
  offline.IssueLicenseRequest:
    properties:
      device_id:
        description: Device ID
        example: "550e8400-e29b-41d4-a716-446655440000"
        format: uuid
        type: string
      fingerprint:
        description: Device fingerprint (32-512 characters)
        example: "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6"
        maxLength: 512
        minLength: 32
        type: string
    required:
    - device_id
    - fingerprint
    type: object
  offline.ValidateLicenseRequest:
    properties:
      fingerprint:
        description: Device fingerprint (32-512 characters)
        example: "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6"
        maxLength: 512
        minLength: 32
        type: string
      nonce:
        description: License nonce (16-64 characters)
        example: "abc123def456ghi789"
        maxLength: 64
        minLength: 16
        type: string
    required:
    - fingerprint
    - nonce
    type: object
  offline.RenewLicenseRequest:
    properties:
      fingerprint:
        description: Device fingerprint (32-512 characters)
        example: "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6"
        maxLength: 512
        minLength: 32
        type: string
    required:
    - fingerprint
    type: object
  offline.LicenseResponse:
    properties:
      id:
        description: License ID
        example: "550e8400-e29b-41d4-a716-446655440002"
        format: uuid
        type: string
      user_id:
        description: User ID
        example: "550e8400-e29b-41d4-a716-446655440001"
        format: uuid
        type: string
      material_id:
        description: Material ID
        example: "550e8400-e29b-41d4-a716-446655440003"
        format: uuid
        type: string
      device_id:
        description: Device ID
        example: "550e8400-e29b-41d4-a716-446655440000"
        format: uuid
        type: string
      status:
        description: License status
        enum:
        - active
        - expired
        - revoked
        example: "active"
        type: string
      expires_at:
        description: Expiration timestamp
        example: "2025-02-15T10:30:00Z"
        format: date-time
        type: string
      offline_grace_period:
        description: Offline grace period duration
        example: "72h0m0s"
        type: string
      last_validated_at:
        description: Last validation timestamp
        example: "2025-01-15T10:30:00Z"
        format: date-time
        type: string
      nonce:
        description: License nonce for anti-cloning
        example: "abc123def456ghi789"
        type: string
      created_at:
        description: Creation timestamp
        example: "2025-01-15T10:30:00Z"
        format: date-time
        type: string
    type: object
  offline.ChunkResponse:
    properties:
      index:
        description: Chunk index
        example: 0
        type: integer
      offset:
        description: Byte offset in file
        example: 0
        format: int64
        type: integer
      size:
        description: Chunk size in bytes
        example: 1048576
        format: int64
        type: integer
    type: object
  offline.ManifestResponse:
    properties:
      material_id:
        description: Material ID
        example: "550e8400-e29b-41d4-a716-446655440003"
        format: uuid
        type: string
      license_id:
        description: License ID
        example: "550e8400-e29b-41d4-a716-446655440002"
        format: uuid
        type: string
      total_chunks:
        description: Total number of chunks
        example: 10
        type: integer
      total_size:
        description: Total file size in bytes
        example: 10485760
        format: int64
        type: integer
      original_hash:
        description: SHA256 hash of original file
        example: "abc123..."
        type: string
      encrypted_hash:
        description: SHA256 hash of encrypted file
        example: "def456..."
        type: string
      chunk_size:
        description: Size of each chunk in bytes
        example: 1048576
        format: int64
        type: integer
      chunks:
        description: List of chunk metadata
        items:
          $ref: '#/definitions/offline.ChunkResponse'
        type: array
      file_type:
        description: File type
        example: "pdf"
        type: string
      created_at:
        description: Creation timestamp
        example: "2025-01-15T10:30:00Z"
        format: date-time
        type: string
    type: object
  offline.DownloadResponse:
    properties:
      manifest:
        $ref: '#/definitions/offline.ManifestResponse'
      download_url:
        description: Presigned URL for downloading encrypted file
        example: "https://minio.example.com/bucket/file?signature=..."
        type: string
      expires_at:
        description: URL expiration timestamp
        example: "2025-01-15T11:30:00Z"
        format: date-time
        type: string
    type: object
  offline.JobResponse:
    properties:
      id:
        description: Job ID
        example: "550e8400-e29b-41d4-a716-446655440004"
        format: uuid
        type: string
      material_id:
        description: Material ID
        example: "550e8400-e29b-41d4-a716-446655440003"
        format: uuid
        type: string
      user_id:
        description: User ID
        example: "550e8400-e29b-41d4-a716-446655440001"
        format: uuid
        type: string
      device_id:
        description: Device ID
        example: "550e8400-e29b-41d4-a716-446655440000"
        format: uuid
        type: string
      license_id:
        description: License ID
        example: "550e8400-e29b-41d4-a716-446655440002"
        format: uuid
        type: string
      priority:
        description: Job priority (higher = more urgent)
        example: 5
        type: integer
      status:
        description: Job status
        enum:
        - pending
        - processing
        - completed
        - failed
        example: "completed"
        type: string
      error:
        description: Error message if failed
        example: "encryption failed"
        type: string
      retry_count:
        description: Number of retry attempts
        example: 0
        type: integer
      created_at:
        description: Creation timestamp
        example: "2025-01-15T10:30:00Z"
        format: date-time
        type: string
      started_at:
        description: Processing start timestamp
        example: "2025-01-15T10:30:05Z"
        format: date-time
        type: string
      completed_at:
        description: Completion timestamp
        example: "2025-01-15T10:31:00Z"
        format: date-time
        type: string
    type: object
  offline.SyncRequest:
    properties:
      device_id:
        description: Device ID
        example: "550e8400-e29b-41d4-a716-446655440000"
        format: uuid
        type: string
      fingerprint:
        description: Device fingerprint (32-512 characters)
        example: "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6"
        maxLength: 512
        minLength: 32
        type: string
      last_sync_at:
        description: Last sync timestamp
        example: "2025-01-15T10:00:00Z"
        type: string
      pending_changes:
        description: Pending changes from device (base64 encoded)
        format: byte
        type: string
    required:
    - device_id
    - fingerprint
    type: object
  offline.LicenseSyncInfo:
    properties:
      license_id:
        description: License ID
        example: "550e8400-e29b-41d4-a716-446655440002"
        format: uuid
        type: string
      material_id:
        description: Material ID
        example: "550e8400-e29b-41d4-a716-446655440003"
        format: uuid
        type: string
      status:
        description: License status
        example: "active"
        type: string
      expires_at:
        description: Expiration timestamp
        example: "2025-02-15T10:30:00Z"
        format: date-time
        type: string
    type: object
  offline.SyncResponse:
    properties:
      device_id:
        description: Device ID
        example: "550e8400-e29b-41d4-a716-446655440000"
        format: uuid
        type: string
      last_sync_at:
        description: Last sync timestamp
        example: "2025-01-15T10:30:00Z"
        format: date-time
        type: string
      sync_version:
        description: Sync version number
        example: 1
        type: integer
      pending_changes:
        description: Pending changes from server (base64 encoded)
        format: byte
        type: string
      licenses:
        description: License sync information
        items:
          $ref: '#/definitions/offline.LicenseSyncInfo'
        type: array
    type: object
  health.LiveResponse:
    properties:
      status:
        description: Service status
        example: "ok"
        type: string
      service:
        description: Service name
        example: "offline-material-service"
        type: string
      version:
        description: Service version
        example: "1.0.0"
        type: string
    type: object
  health.ReadyResponse:
    properties:
      status:
        description: Overall status
        enum:
        - healthy
        - unhealthy
        example: "healthy"
        type: string
      service:
        description: Service name
        example: "offline-material-service"
        type: string
    type: object
  health.DependencyStatus:
    properties:
      name:
        description: Dependency name
        example: "postgres"
        type: string
      status:
        description: Dependency status
        enum:
        - healthy
        - unhealthy
        example: "healthy"
        type: string
      latency:
        description: Check latency
        example: "5ms"
        type: string
      error:
        description: Error message if unhealthy
        type: string
    type: object
  health.HealthResponse:
    properties:
      status:
        description: Overall status
        enum:
        - healthy
        - unhealthy
        example: "healthy"
        type: string
      service:
        description: Service name
        example: "offline-material-service"
        type: string
      version:
        description: Service version
        example: "1.0.0"
        type: string
      uptime:
        description: Service uptime
        example: "24h30m15s"
        type: string
      dependencies:
        description: Dependency health status
        items:
          $ref: '#/definitions/health.DependencyStatus'
        type: array
    type: object
  response.Response-offline_DeviceResponse:
    properties:
      data:
        $ref: '#/definitions/offline.DeviceResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-array_offline_DeviceResponse:
    properties:
      data:
        items:
          $ref: '#/definitions/offline.DeviceResponse'
        type: array
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-offline_LicenseResponse:
    properties:
      data:
        $ref: '#/definitions/offline.LicenseResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-offline_DownloadResponse:
    properties:
      data:
        $ref: '#/definitions/offline.DownloadResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-offline_JobResponse:
    properties:
      data:
        $ref: '#/definitions/offline.JobResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
  response.Response-offline_SyncResponse:
    properties:
      data:
        $ref: '#/definitions/offline.SyncResponse'
      meta:
        $ref: '#/definitions/response.Meta'
      success:
        type: boolean
    type: object
host: localhost:8001
info:
  contact:
    email: support@ngasihtau.com
    name: NgasihTau API Support
  description: |-
    NgasihTau is a learning platform API that enables teachers to create Knowledge Pods for sharing learning materials with students.
    The platform uses a microservices architecture with Go as the primary backend language.
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  title: NgasihTau API
  version: "1.0"
paths:
  # Offline Module - Device Endpoints
  /offline/devices:
    post:
      consumes:
      - application/json
      description: Register a new device for offline material access. Maximum 5 devices per user.
      parameters:
      - description: Device registration data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/offline.RegisterDeviceRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Device registered successfully
          schema:
            $ref: '#/definitions/response.Response-offline_DeviceResponse'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Device limit exceeded (max 5)
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Register a new device
      tags:
      - Offline
    get:
      consumes:
      - application/json
      description: Get all registered devices for the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: List of devices
          schema:
            $ref: '#/definitions/response.Response-array_offline_DeviceResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List user's devices
      tags:
      - Offline
  /offline/devices/{device_id}:
    delete:
      consumes:
      - application/json
      description: Remove a device and revoke all associated licenses
      parameters:
      - description: Device ID
        format: uuid
        in: path
        name: device_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Device deregistered successfully
          schema:
            $ref: '#/definitions/response.Response-any'
        "400":
          description: Invalid device ID
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Device not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Deregister a device
      tags:
      - Offline
  # Offline Module - License Endpoints
  /offline/materials/{material_id}/license:
    post:
      consumes:
      - application/json
      description: Issue a new license for offline access to a material on a specific device
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: material_id
        required: true
        type: string
      - description: License issuance data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/offline.IssueLicenseRequest'
      produces:
      - application/json
      responses:
        "201":
          description: License issued successfully
          schema:
            $ref: '#/definitions/response.Response-offline_LicenseResponse'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Access denied to material
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Material or device not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Issue a license for offline access
      tags:
      - Offline
  /offline/licenses/{license_id}/validate:
    post:
      consumes:
      - application/json
      description: Validate a license for offline access, updating last validated timestamp
      parameters:
      - description: License ID
        format: uuid
        in: path
        name: license_id
        required: true
        type: string
      - description: License validation data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/offline.ValidateLicenseRequest'
      produces:
      - application/json
      responses:
        "200":
          description: License validated successfully
          schema:
            $ref: '#/definitions/response.Response-offline_LicenseResponse'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: License expired or invalid
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: License not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Validate a license
      tags:
      - Offline
  /offline/licenses/{license_id}/renew:
    post:
      consumes:
      - application/json
      description: Renew a license before it expires, extending the expiration date
      parameters:
      - description: License ID
        format: uuid
        in: path
        name: license_id
        required: true
        type: string
      - description: License renewal data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/offline.RenewLicenseRequest'
      produces:
      - application/json
      responses:
        "200":
          description: License renewed successfully
          schema:
            $ref: '#/definitions/response.Response-offline_LicenseResponse'
        "400":
          description: Invalid license ID
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: License already expired or revoked
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: License not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Renew a license
      tags:
      - Offline
  # Offline Module - Download Endpoints
  /offline/materials/{material_id}/download:
    get:
      consumes:
      - application/json
      description: Download encrypted material with manifest for offline access
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: material_id
        required: true
        type: string
      - description: Device ID
        format: uuid
        in: query
        name: device_id
        required: true
        type: string
      - description: Device fingerprint
        in: query
        name: fingerprint
        required: true
        type: string
      - description: License ID
        format: uuid
        in: query
        name: license_id
        required: true
        type: string
      - description: Range header for partial content
        in: header
        name: Range
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Download manifest and URL
          schema:
            $ref: '#/definitions/response.Response-offline_DownloadResponse'
        "206":
          description: Partial content (range request)
          schema:
            $ref: '#/definitions/response.Response-offline_DownloadResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Access denied or license invalid
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Material or license not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "429":
          description: Rate limit exceeded
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Download encrypted material
      tags:
      - Offline
  # Offline Module - Job Endpoints
  /offline/jobs/{job_id}:
    get:
      consumes:
      - application/json
      description: Get the status of an encryption job by ID
      parameters:
      - description: Job ID
        format: uuid
        in: path
        name: job_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Job details
          schema:
            $ref: '#/definitions/response.Response-offline_JobResponse'
        "400":
          description: Invalid job ID
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Job not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get job status
      tags:
      - Offline
  /offline/materials/{material_id}/job:
    get:
      consumes:
      - application/json
      description: Get the latest encryption job for a material
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: material_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Job details
          schema:
            $ref: '#/definitions/response.Response-offline_JobResponse'
        "400":
          description: Invalid material ID
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: No job found for material
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get job for material
      tags:
      - Offline
  # Offline Module - Sync Endpoint
  /offline/sync:
    post:
      consumes:
      - application/json
      description: Sync offline state between device and server
      parameters:
      - description: Sync data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/offline.SyncRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Sync result
          schema:
            $ref: '#/definitions/response.Response-offline_SyncResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Device validation failed
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Sync offline state
      tags:
      - Offline
  # Offline Module - Health Endpoints
  /health/live:
    get:
      description: Check if the service is alive
      produces:
      - application/json
      responses:
        "200":
          description: Service is alive
          schema:
            $ref: '#/definitions/health.LiveResponse'
      summary: Liveness probe
      tags:
      - Health
  /health/ready:
    get:
      description: Check if the service is ready to accept traffic
      produces:
      - application/json
      responses:
        "200":
          description: Service is ready
          schema:
            $ref: '#/definitions/health.ReadyResponse'
        "503":
          description: Service is not ready
          schema:
            $ref: '#/definitions/health.ReadyResponse'
      summary: Readiness probe
      tags:
      - Health
  /health/full:
    get:
      description: Get detailed health status with all dependencies
      produces:
      - application/json
      responses:
        "200":
          description: Full health status
          schema:
            $ref: '#/definitions/health.HealthResponse'
        "503":
          description: Service is unhealthy
          schema:
            $ref: '#/definitions/health.HealthResponse'
      summary: Full health check
      tags:
      - Health
  /admin/verifications:
    get:
      consumes:
      - application/json
      description: Get a paginated list of pending teacher verification requests (admin
        only)
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of pending verifications
          schema:
            $ref: '#/definitions/response.PaginatedResponse-http_TeacherVerificationResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Admin access required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get pending verifications
      tags:
      - Verification
  /admin/verifications/{id}/approve:
    post:
      consumes:
      - application/json
      description: Approve a teacher verification request and update user role to
        teacher (admin only)
      parameters:
      - description: Verification ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Verification approved successfully
          schema:
            $ref: '#/definitions/response.Response-any'
        "400":
          description: Invalid verification ID or already reviewed
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Admin access required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Verification not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Approve verification
      tags:
      - Verification
  /admin/verifications/{id}/reject:
    post:
      consumes:
      - application/json
      description: Reject a teacher verification request with a reason (admin only)
      parameters:
      - description: Verification ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Rejection reason
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.RejectVerificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Verification rejected successfully
          schema:
            $ref: '#/definitions/response.Response-any'
        "400":
          description: Invalid verification ID, already reviewed, or missing reason
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Admin access required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Verification not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Reject verification
      tags:
      - Verification
  /ai/materials/{id}/generate-questions:
    post:
      consumes:
      - application/json
      description: Generate quiz questions from material content using AI
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Question generation options
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.GenerateQuestionsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Generated questions
          schema:
            $ref: '#/definitions/docs.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/docs.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/docs.ErrorResponse'
        "403":
          description: Pro subscription required
          schema:
            $ref: '#/definitions/docs.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Generate quiz questions
      tags:
      - AI
  /api/v1/feed/recommended:
    get:
      description: Returns pods recommended based on user's interaction history
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        maximum: 50
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Response-http_RecommendedFeedResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get personalized feed
      tags:
      - Recommendations
  /api/v1/feed/trending:
    get:
      description: Returns trending pods based on popularity
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        maximum: 50
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Response-http_TrendingFeedResponse'
      summary: Get trending feed
      tags:
      - Recommendations
  /api/v1/interests/me:
    get:
      consumes:
      - application/json
      description: Returns all learning interests selected by the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Response-application_UserInterestsResult'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get current user's learning interests
      tags:
      - Interests
    post:
      consumes:
      - application/json
      description: Adds a predefined or custom interest to the authenticated user's
        interest list
      parameters:
      - description: Interest to add
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.AddInterestRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/response.Response-domain_InterestSummary'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Add a single interest to user's list
      tags:
      - Interests
    put:
      consumes:
      - application/json
      description: Sets or replaces all learning interests for the authenticated user.
        Used during onboarding.
      parameters:
      - description: Interests to set
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.SetInterestsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Response-any'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Set user's learning interests (onboarding)
      tags:
      - Interests
  /api/v1/interests/me/{id}:
    delete:
      consumes:
      - application/json
      description: Removes a specific interest from the authenticated user's interest
        list
      parameters:
      - description: Interest ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Response-any'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Remove an interest from user's list
      tags:
      - Interests
  /api/v1/interests/onboarding/complete:
    post:
      consumes:
      - application/json
      description: Marks the user's onboarding as complete. User must have selected
        at least one interest.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Response-any'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Complete user onboarding
      tags:
      - Interests
  /api/v1/interests/onboarding/status:
    get:
      consumes:
      - application/json
      description: Returns whether the user has completed onboarding and their current
        interests
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Response-application_OnboardingStatus'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get user onboarding status
      tags:
      - Interests
  /api/v1/interests/predefined:
    get:
      consumes:
      - application/json
      description: Returns a list of all active predefined learning interests that
        users can select from
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Response-application_PredefinedInterestsResult'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Get all predefined learning interests
      tags:
      - Interests
  /api/v1/interests/predefined/categories:
    get:
      consumes:
      - application/json
      description: Returns predefined learning interests organized by their categories
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Response-application_GroupedInterestsResult'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Get predefined interests grouped by category
      tags:
      - Interests
  /api/v1/pods/{id}/similar:
    get:
      description: Returns pods similar to the specified pod
      parameters:
      - description: Pod ID
        in: path
        name: id
        required: true
        type: string
      - default: 10
        description: Maximum results
        in: query
        maximum: 20
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Response-http_SimilarPodsResponse'
        "404":
          description: Pod not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Get similar pods
      tags:
      - Recommendations
  /api/v1/pods/{id}/track:
    post:
      consumes:
      - application/json
      description: Records user interaction for recommendation algorithm
      parameters:
      - description: Pod ID
        in: path
        name: id
        required: true
        type: string
      - description: Interaction data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/http.TrackInteractionRequest'
      produces:
      - application/json
      responses:
        "204":
          description: Interaction tracked
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Track user interaction with a pod
      tags:
      - Recommendations
  /api/v1/pods/{id}/track/time:
    post:
      consumes:
      - application/json
      description: Records time spent viewing a pod for recommendations
      parameters:
      - description: Pod ID
        in: path
        name: id
        required: true
        type: string
      - description: Time spent data
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/http.TrackTimeSpentRequest'
      produces:
      - application/json
      responses:
        "204":
          description: Time tracked
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Track time spent on a pod
      tags:
      - Recommendations
  /api/v1/users/me/preferences:
    get:
      description: Returns user's content preferences based on interaction history
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/response.Response-http_UserPreferencesResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get user preferences
      tags:
      - Recommendations
  /auth/2fa/disable:
    post:
      consumes:
      - application/json
      description: Disable 2FA by verifying current TOTP code
      parameters:
      - description: Current TOTP code for verification
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.Verify2FARequest'
      produces:
      - application/json
      responses:
        "200":
          description: 2FA disabled successfully
          schema:
            $ref: '#/definitions/response.Response-map_string_bool'
        "400":
          description: Invalid TOTP code
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Disable two-factor authentication
      tags:
      - Auth
  /auth/2fa/enable:
    post:
      consumes:
      - application/json
      description: Generate TOTP secret and QR code for 2FA setup
      produces:
      - application/json
      responses:
        "200":
          description: 2FA setup initiated
          schema:
            $ref: '#/definitions/response.Response-http_TwoFactorSetupResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "409":
          description: 2FA already enabled
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Enable two-factor authentication
      tags:
      - Auth
  /auth/2fa/login:
    post:
      consumes:
      - application/json
      description: Verify TOTP code or backup code to complete login for 2FA-enabled
        accounts
      parameters:
      - description: Temp token and TOTP/backup code
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.Verify2FALoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Login successful
          schema:
            $ref: '#/definitions/response.Response-http_AuthResponse'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Invalid code or expired temp token
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Complete 2FA login verification
      tags:
      - Auth
  /auth/2fa/verify:
    post:
      consumes:
      - application/json
      description: Complete 2FA setup by verifying a TOTP code from authenticator
        app
      parameters:
      - description: TOTP code
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.Verify2FARequest'
      produces:
      - application/json
      responses:
        "200":
          description: 2FA enabled successfully
          schema:
            $ref: '#/definitions/response.Response-map_string_bool'
        "400":
          description: Invalid TOTP code
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Verify and activate 2FA
      tags:
      - Auth
  /auth/google:
    post:
      consumes:
      - application/json
      description: Authenticate user using Google OAuth authorization code
      parameters:
      - description: Google OAuth code and redirect URI
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.GoogleLoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 2FA verification required
          schema:
            $ref: '#/definitions/response.Response-http_TwoFactorRequiredResponse'
        "400":
          description: Invalid request body or OAuth error
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Login with Google OAuth
      tags:
      - Auth
  /auth/login:
    post:
      consumes:
      - application/json
      description: Authenticate user with email and password. Returns JWT tokens or
        2FA challenge.
      parameters:
      - description: Login credentials
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 2FA verification required
          schema:
            $ref: '#/definitions/response.Response-http_TwoFactorRequiredResponse'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Invalid credentials
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Login with email and password
      tags:
      - Auth
  /auth/logout:
    post:
      consumes:
      - application/json
      description: Invalidate the refresh token to logout the user
      parameters:
      - description: Refresh token to invalidate
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.LogoutRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Logout successful
          schema:
            $ref: '#/definitions/response.Response-any'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Logout user
      tags:
      - Auth
  /auth/password/forgot:
    post:
      consumes:
      - application/json
      description: Send password reset email to the user (always returns success to
        prevent email enumeration)
      parameters:
      - description: Email address
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.PasswordResetRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Password reset email sent
          schema:
            $ref: '#/definitions/response.Response-map_string_string'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Request password reset
      tags:
      - Auth
  /auth/password/reset:
    post:
      consumes:
      - application/json
      description: Reset user's password using the reset token
      parameters:
      - description: Reset token and new password
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.PasswordResetConfirmRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Password reset successfully
          schema:
            $ref: '#/definitions/response.Response-map_string_bool'
        "400":
          description: Invalid or expired token
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Reset password
      tags:
      - Auth
  /auth/refresh:
    post:
      consumes:
      - application/json
      description: Exchange a valid refresh token for a new access token and refresh
        token
      parameters:
      - description: Refresh token
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.RefreshTokenRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Tokens refreshed successfully
          schema:
            $ref: '#/definitions/response.Response-http_AuthResponse'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Invalid or expired refresh token
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Refresh access token
      tags:
      - Auth
  /auth/register:
    post:
      consumes:
      - application/json
      description: Create a new user account with email and password
      parameters:
      - description: Registration details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.RegisterRequest'
      produces:
      - application/json
      responses:
        "201":
          description: User created successfully
          schema:
            $ref: '#/definitions/response.Response-http_AuthResponse'
        "400":
          description: Invalid request body or validation error
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "409":
          description: Email already exists
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Register a new user
      tags:
      - Auth
  /auth/send-verification:
    post:
      consumes:
      - application/json
      description: Send a new verification email to the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: Verification email sent
          schema:
            $ref: '#/definitions/response.Response-map_string_string'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "409":
          description: Email already verified
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Send verification email
      tags:
      - Auth
  /auth/verify-email:
    post:
      consumes:
      - application/json
      description: Verify user's email address using the verification token
      parameters:
      - description: Email verification token
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.VerifyEmailRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Email verified successfully
          schema:
            $ref: '#/definitions/response.Response-map_string_bool'
        "400":
          description: Invalid or expired token
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Verify email address
      tags:
      - Auth
  /bookmarks:
    get:
      consumes:
      - application/json
      description: Get a paginated list of bookmarked materials
      parameters:
      - description: Filter by folder name
        in: query
        name: folder
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        maximum: 100
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of bookmarked materials
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Get bookmarks
      tags:
      - Bookmarks
  /bookmarks/folders:
    get:
      consumes:
      - application/json
      description: Get a list of all bookmark folders
      produces:
      - application/json
      responses:
        "200":
          description: List of folders
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Get bookmark folders
      tags:
      - Bookmarks
  /chat/{messageId}/feedback:
    post:
      consumes:
      - application/json
      description: Submit thumbs up/down feedback for an AI response
      parameters:
      - description: Message ID
        format: uuid
        in: path
        name: messageId
        required: true
        type: string
      - description: Feedback data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.FeedbackRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Feedback submitted
          schema:
            $ref: '#/definitions/docs.MessageResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/docs.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/docs.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Submit feedback
      tags:
      - AI
  /comments/{id}:
    delete:
      consumes:
      - application/json
      description: Soft-delete a comment. Only the comment author can delete.
      parameters:
      - description: Comment ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Comment deleted
        "400":
          description: Invalid comment ID
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
        "403":
          description: Not comment author
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Delete a comment
      tags:
      - Comments
    put:
      consumes:
      - application/json
      description: Update a comment. Only the comment author can update.
      parameters:
      - description: Comment ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Updated content
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.UpdateCommentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Updated comment
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
        "403":
          description: Not comment author
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Update a comment
      tags:
      - Comments
  /feed:
    get:
      consumes:
      - application/json
      description: Get a paginated activity feed from followed pods and users
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Activity feed
          schema:
            $ref: '#/definitions/response.PaginatedResponse-domain_Activity'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get user activity feed
      tags:
      - Pods
  /materials/{id}:
    delete:
      consumes:
      - application/json
      description: Soft-delete a material
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Material deleted
        "400":
          description: Invalid material ID
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Delete a material
      tags:
      - Materials
    get:
      consumes:
      - application/json
      description: Get a material by ID
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Material details
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid material ID
          schema:
            $ref: '#/definitions/fiber.Map'
        "404":
          description: Material not found
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Get a material
      tags:
      - Materials
    put:
      consumes:
      - application/json
      description: Update a material's title and description
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Material update data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.UpdateMaterialRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Updated material
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Update a material
      tags:
      - Materials
  /materials/{id}/bookmark:
    delete:
      consumes:
      - application/json
      description: Remove a material from bookmarks
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Bookmark removed
        "400":
          description: Invalid material ID
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Remove a bookmark
      tags:
      - Bookmarks
    post:
      consumes:
      - application/json
      description: Add a material to bookmarks with optional folder
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Optional folder name
        in: body
        name: request
        schema:
          $ref: '#/definitions/http.BookmarkMaterialRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created bookmark
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid material ID
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
        "409":
          description: Already bookmarked
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Bookmark a material
      tags:
      - Bookmarks
  /materials/{id}/chat:
    post:
      consumes:
      - application/json
      description: Send a message to AI with material context using RAG
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Chat message
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.ChatRequest'
      produces:
      - application/json
      responses:
        "200":
          description: AI response
          schema:
            $ref: '#/definitions/docs.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/docs.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/docs.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Chat with material
      tags:
      - AI
  /materials/{id}/chat/export:
    post:
      consumes:
      - application/json
      description: Export chat history for a material to PDF or Markdown format
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Export format
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.ExportChatRequest'
      produces:
      - application/pdf
      - text/markdown
      responses:
        "200":
          description: Exported chat file
          schema:
            type: file
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/docs.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/docs.ErrorResponse'
        "403":
          description: Premium subscription required
          schema:
            $ref: '#/definitions/docs.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Export chat history
      tags:
      - AI
  /materials/{id}/chat/history:
    get:
      consumes:
      - application/json
      description: Get paginated chat history for a material
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - default: 50
        description: Maximum messages
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset for pagination
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Chat history
          schema:
            $ref: '#/definitions/docs.SuccessResponse'
        "400":
          description: Invalid material ID
          schema:
            $ref: '#/definitions/docs.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/docs.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get chat history
      tags:
      - AI
  /materials/{id}/chat/suggestions:
    get:
      consumes:
      - application/json
      description: Get AI-generated suggested questions based on material content
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Suggested questions
          schema:
            $ref: '#/definitions/docs.SuggestedQuestionsResponse'
        "400":
          description: Invalid material ID
          schema:
            $ref: '#/definitions/docs.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/docs.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get suggested questions
      tags:
      - AI
  /materials/{id}/comments:
    get:
      consumes:
      - application/json
      description: Get a paginated list of comments for a material
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        maximum: 100
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of comments
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid material ID
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Get comments
      tags:
      - Comments
    post:
      consumes:
      - application/json
      description: Add a comment to a material. Supports threaded replies.
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Comment content
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.AddCommentRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created comment
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Add a comment
      tags:
      - Comments
  /materials/{id}/download:
    get:
      consumes:
      - application/json
      description: Generate a presigned URL for downloading a material
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Download URL
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid material ID
          schema:
            $ref: '#/definitions/fiber.Map'
        "404":
          description: Material not found
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Get download URL
      tags:
      - Materials
  /materials/{id}/preview:
    get:
      consumes:
      - application/json
      description: Generate a presigned URL for previewing a material
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Preview URL
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid material ID
          schema:
            $ref: '#/definitions/fiber.Map'
        "404":
          description: Material not found
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Get preview URL
      tags:
      - Materials
  /materials/{id}/ratings:
    get:
      consumes:
      - application/json
      description: Get ratings for a material. Use summary=true for rating summary.
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Return summary instead of list
        in: query
        name: summary
        type: boolean
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        maximum: 50
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Ratings or summary
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid material ID
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Get ratings
      tags:
      - Ratings
    post:
      consumes:
      - application/json
      description: Rate a material (1-5 stars) with optional review. Updates existing
        rating if already rated.
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Rating and optional review
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.RateMaterialRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created/updated rating
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Rate a material
      tags:
      - Ratings
  /materials/{id}/versions:
    get:
      consumes:
      - application/json
      description: Get all versions of a material
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of versions
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid material ID
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Get version history
      tags:
      - Materials
    post:
      consumes:
      - application/json
      description: Upload a new version of an existing material
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Version details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.CreateVersionRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created version
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Create a new version
      tags:
      - Materials
  /materials/{id}/versions/{version}/restore:
    post:
      consumes:
      - application/json
      description: Restore a material to a specific previous version
      parameters:
      - description: Material ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Version number to restore
        in: path
        name: version
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Restored material
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid material ID or version
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
        "404":
          description: Version not found
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Restore a version
      tags:
      - Materials
  /materials/confirm:
    post:
      consumes:
      - application/json
      description: Confirm a file upload and create a material record
      parameters:
      - description: Upload confirmation details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.ConfirmUploadRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created material
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid request or upload error
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Confirm file upload
      tags:
      - Materials
  /materials/upload-url:
    post:
      consumes:
      - application/json
      description: Generate a presigned URL for direct file upload to storage
      parameters:
      - description: Upload request details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.UploadURLRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Upload URL and object key
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid request or unsupported file type
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Get presigned upload URL
      tags:
      - Materials
  /notifications:
    get:
      consumes:
      - application/json
      description: Get a paginated list of notifications for the authenticated user
      parameters:
      - default: 20
        description: Maximum notifications
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset for pagination
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Notifications with unread count
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Get notifications
      tags:
      - Notifications
  /notifications/{id}/read:
    put:
      consumes:
      - application/json
      description: Mark a single notification as read
      parameters:
      - description: Notification ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Notification marked as read
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid notification ID
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
        "404":
          description: Notification not found
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Mark notification as read
      tags:
      - Notifications
  /notifications/preferences:
    get:
      consumes:
      - application/json
      description: Get notification preferences for the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: Notification preferences
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Get notification preferences
      tags:
      - Notifications
    put:
      consumes:
      - application/json
      description: Update notification preferences for the authenticated user
      parameters:
      - description: Preference updates
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.UpdatePreferencesRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Updated preferences
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Update notification preferences
      tags:
      - Notifications
  /notifications/read-all:
    put:
      consumes:
      - application/json
      description: Mark all notifications as read for the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: All notifications marked as read
          schema:
            $ref: '#/definitions/fiber.Map'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: Mark all notifications as read
      tags:
      - Notifications
  /pods:
    get:
      consumes:
      - application/json
      description: Get a paginated list of Knowledge Pods with optional filters
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        name: per_page
        type: integer
      - description: Filter by owner ID
        format: uuid
        in: query
        name: owner_id
        type: string
      - description: Filter by category
        in: query
        name: category
        type: string
      - description: Filter by visibility
        enum:
        - public
        - private
        in: query
        name: visibility
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of pods
          schema:
            $ref: '#/definitions/response.PaginatedResponse-domain_Pod'
      summary: List Knowledge Pods
      tags:
      - Pods
    post:
      consumes:
      - application/json
      description: Create a new Knowledge Pod. Only verified users (teachers) can
        create pods.
      parameters:
      - description: Pod creation data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/application.CreatePodInput'
      produces:
      - application/json
      responses:
        "201":
          description: Pod created successfully
          schema:
            $ref: '#/definitions/response.Response-domain_Pod'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Only verified users can create pods
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create a new Knowledge Pod
      tags:
      - Pods
  /pods/{id}:
    delete:
      consumes:
      - application/json
      description: Delete a Knowledge Pod. Only the owner can delete a pod.
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Pod deleted successfully
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Owner access required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a Knowledge Pod
      tags:
      - Pods
    get:
      consumes:
      - application/json
      description: Get a Knowledge Pod by ID. Private pods require authentication
        and access.
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Pod details
          schema:
            $ref: '#/definitions/response.Response-domain_Pod'
        "400":
          description: Invalid pod ID
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Access denied to private pod
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get a Knowledge Pod
      tags:
      - Pods
    put:
      consumes:
      - application/json
      description: Update a Knowledge Pod. Requires owner or admin collaborator access.
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Pod update data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/application.UpdatePodInput'
      produces:
      - application/json
      responses:
        "200":
          description: Updated pod
          schema:
            $ref: '#/definitions/response.Response-domain_Pod'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Edit access required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update a Knowledge Pod
      tags:
      - Pods
  /pods/{id}/activity:
    get:
      consumes:
      - application/json
      description: Get a paginated list of activities for a pod
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of activities
          schema:
            $ref: '#/definitions/response.PaginatedResponse-domain_Activity'
        "400":
          description: Invalid pod ID
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Access denied
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get pod activity
      tags:
      - Pods
  /pods/{id}/chat:
    post:
      consumes:
      - application/json
      description: Send a message to AI with context from all materials in a pod
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Chat message
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.ChatRequest'
      produces:
      - application/json
      responses:
        "200":
          description: AI response with material citations
          schema:
            $ref: '#/definitions/docs.SuccessResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/docs.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/docs.ErrorResponse'
        "403":
          description: Pro subscription required
          schema:
            $ref: '#/definitions/docs.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Chat with pod
      tags:
      - AI
  /pods/{id}/collaborators:
    get:
      consumes:
      - application/json
      description: Get a list of collaborators for a pod
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of collaborators
          schema:
            $ref: '#/definitions/response.Response-array_domain_Collaborator'
        "400":
          description: Invalid pod ID
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Access denied
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get pod collaborators
      tags:
      - Pods
    post:
      consumes:
      - application/json
      description: Invite a user to collaborate on a pod by email. Requires owner
        or admin access. The system resolves the email to a user internally.
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Collaborator invitation with email and role
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.InviteCollaboratorRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Collaborator invited
          schema:
            $ref: '#/definitions/response.Response-domain_Collaborator'
        "400":
          description: Invalid request body or email format
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Collaborator management access required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod or user not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Invite a collaborator
      tags:
      - Pods
  /pods/{id}/collaborators/{userId}:
    delete:
      consumes:
      - application/json
      description: Remove a collaborator from a pod. Requires owner or admin access.
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Collaborator user ID
        format: uuid
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Collaborator removed
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Collaborator management access required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod or collaborator not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Remove a collaborator
      tags:
      - Pods
    put:
      consumes:
      - application/json
      description: Verify a collaborator or update their role. Requires owner or admin
        access.
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Collaborator user ID
        format: uuid
        in: path
        name: userId
        required: true
        type: string
      - description: Action (verify/update_role) and optional role
        in: body
        name: request
        required: true
        schema:
          properties:
            action:
              type: string
            role:
              type: string
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Collaborator updated
          schema:
            $ref: '#/definitions/response.Response-map_string_bool'
        "400":
          description: Invalid request body or action
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Collaborator management access required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod or collaborator not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update a collaborator
      tags:
      - Pods
  /pods/{id}/downvote:
    delete:
      consumes:
      - application/json
      description: Remove your downvote from a pod
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Downvote removed
          schema:
            $ref: '#/definitions/response.Response-map_string_bool'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod not found or not downvoted
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Remove downvote from a Knowledge Pod
      tags:
      - Pods
    post:
      consumes:
      - application/json
      description: Add a downvote to a pod as a negative trust indicator. Each user
        can only downvote a pod once.
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Pod downvoted
          schema:
            $ref: '#/definitions/response.Response-map_string_bool'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "409":
          description: Already downvoted
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Downvote a Knowledge Pod
      tags:
      - Pods
  /pods/{id}/follow:
    delete:
      consumes:
      - application/json
      description: Stop following a pod
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Pod unfollowed
          schema:
            $ref: '#/definitions/response.Response-map_string_bool'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Unfollow a Knowledge Pod
      tags:
      - Pods
    post:
      consumes:
      - application/json
      description: Follow a pod to receive notifications about new materials
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Pod followed
          schema:
            $ref: '#/definitions/response.Response-map_string_bool'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Follow a Knowledge Pod
      tags:
      - Pods
  /pods/{id}/fork:
    post:
      consumes:
      - application/json
      description: Create a copy of a Knowledge Pod. Only verified users can fork
        pods.
      parameters:
      - description: Pod ID to fork
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "201":
          description: Forked pod
          schema:
            $ref: '#/definitions/response.Response-domain_Pod'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Access denied or not verified
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Fork a Knowledge Pod
      tags:
      - Pods
  /pods/{id}/share:
    post:
      consumes:
      - application/json
      description: Share a knowledge pod with a student. Only teachers can share pods.
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Share pod input
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.SharePodInput'
      produces:
      - application/json
      responses:
        "201":
          description: Pod shared successfully
          schema:
            $ref: '#/definitions/response.Response-domain_SharedPod'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Only teachers can share pods
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod or student not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "409":
          description: Pod already shared with this student
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Share a pod with a student
      tags:
      - Shared Pods
  /pods/{id}/star:
    delete:
      consumes:
      - application/json
      description: Remove a pod from your starred list
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Pod unstarred
          schema:
            $ref: '#/definitions/response.Response-map_string_bool'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod not found or not starred
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Unstar a Knowledge Pod
      tags:
      - Pods
    post:
      consumes:
      - application/json
      description: Add a pod to your starred list
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Pod starred
          schema:
            $ref: '#/definitions/response.Response-map_string_bool'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "409":
          description: Already starred
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Star a Knowledge Pod
      tags:
      - Pods
  /pods/{id}/upload-request:
    post:
      consumes:
      - application/json
      description: Request permission to upload materials to another teacher's pod.
        Only teachers can make this request.
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Optional message for the request
        in: body
        name: request
        schema:
          $ref: '#/definitions/http.CreateUploadRequestInput'
      produces:
      - application/json
      responses:
        "201":
          description: Upload request created
          schema:
            $ref: '#/definitions/response.Response-domain_UploadRequest'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Only teachers can request upload permission
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "409":
          description: Upload request already exists
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Request upload permission to a pod
      tags:
      - Upload Requests
  /pods/{id}/upvote:
    delete:
      consumes:
      - application/json
      description: Remove your upvote from a pod
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Upvote removed
          schema:
            $ref: '#/definitions/response.Response-map_string_bool'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod not found or not upvoted
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Remove upvote from a Knowledge Pod
      tags:
      - Pods
    post:
      consumes:
      - application/json
      description: Add an upvote to a pod as a trust indicator. Each user can only
        upvote a pod once.
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Pod upvoted
          schema:
            $ref: '#/definitions/response.Response-map_string_bool'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "409":
          description: Already upvoted
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Upvote a Knowledge Pod
      tags:
      - Pods
  /pods/{podId}/materials:
    get:
      consumes:
      - application/json
      description: Get a paginated list of materials in a Knowledge Pod
      parameters:
      - description: Pod ID
        format: uuid
        in: path
        name: podId
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        maximum: 100
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of materials
          schema:
            $ref: '#/definitions/fiber.Map'
        "400":
          description: Invalid pod ID
          schema:
            $ref: '#/definitions/fiber.Map'
      security:
      - BearerAuth: []
      summary: List materials in a pod
      tags:
      - Materials
  /pods/slug/{slug}:
    get:
      consumes:
      - application/json
      description: Get a Knowledge Pod by its URL-friendly slug. Private pods require
        authentication and access.
      parameters:
      - description: Pod slug
        in: path
        name: slug
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Pod details
          schema:
            $ref: '#/definitions/response.Response-domain_Pod'
        "403":
          description: Access denied to private pod
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Pod not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get a Knowledge Pod by slug
      tags:
      - Pods
  /search:
    get:
      consumes:
      - application/json
      description: Search for pods and materials using full-text search
      parameters:
      - description: Search query
        in: query
        name: q
        required: true
        type: string
      - description: Filter by type (pod, material)
        in: query
        name: type
        type: string
      - description: Filter by category
        in: query
        name: category
        type: string
      - description: Filter by file type (pdf, docx, pptx)
        in: query
        name: file_type
        type: string
      - description: Filter by pod ID
        format: uuid
        in: query
        name: pod_id
        type: string
      - description: Filter by verified status (teacher-created pods)
        in: query
        name: verified
        type: boolean
      - default: relevance
        description: Sort by (relevance, upvotes, trust_score, recent, popular)
        in: query
        name: sort
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Search results
          schema:
            $ref: '#/definitions/response.PaginatedResponse-any'
      security:
      - BearerAuth: []
      summary: Full-text search
      tags:
      - Search
  /search/history:
    delete:
      consumes:
      - application/json
      description: Clear the authenticated user's search history
      produces:
      - application/json
      responses:
        "200":
          description: History cleared
          schema:
            $ref: '#/definitions/response.Response-map_string_string'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Clear search history
      tags:
      - Search
    get:
      consumes:
      - application/json
      description: Get the authenticated user's search history
      parameters:
      - default: 20
        description: Maximum results
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Search history
          schema:
            $ref: '#/definitions/docs.SuccessResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get search history
      tags:
      - Search
  /search/hybrid:
    get:
      consumes:
      - application/json
      description: Combine keyword and semantic search for best results
      parameters:
      - description: Search query
        in: query
        name: q
        required: true
        type: string
      - description: Filter by type
        in: query
        name: type
        type: string
      - description: Filter by category
        in: query
        name: category
        type: string
      - description: Filter by file type
        in: query
        name: file_type
        type: string
      - description: Filter by pod ID
        format: uuid
        in: query
        name: pod_id
        type: string
      - description: Filter by verified status (teacher-created pods)
        in: query
        name: verified
        type: boolean
      - default: relevance
        description: Sort by (relevance, upvotes, trust_score, recent, popular)
        in: query
        name: sort
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        name: per_page
        type: integer
      - default: 0.3
        description: Weight for semantic results (0-1)
        in: query
        name: semantic_weight
        type: number
      produces:
      - application/json
      responses:
        "200":
          description: Hybrid search results
          schema:
            $ref: '#/definitions/response.PaginatedResponse-any'
      security:
      - BearerAuth: []
      summary: Hybrid search
      tags:
      - Search
  /search/popular:
    get:
      consumes:
      - application/json
      description: Get materials ranked by all-time engagement
      parameters:
      - description: Filter by category
        in: query
        name: category
        type: string
      - default: 20
        description: Maximum results
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Popular materials
          schema:
            $ref: '#/definitions/response.Response-any'
      summary: Get popular materials
      tags:
      - Search
  /search/semantic:
    get:
      consumes:
      - application/json
      description: Search using natural language with vector similarity
      parameters:
      - description: Natural language query
        in: query
        name: q
        required: true
        type: string
      - description: Filter by pod ID
        format: uuid
        in: query
        name: pod_id
        type: string
      - default: 10
        description: Maximum results
        in: query
        name: limit
        type: integer
      - default: 0
        description: Minimum similarity score
        in: query
        name: min_score
        type: number
      produces:
      - application/json
      responses:
        "200":
          description: Semantic search results
          schema:
            $ref: '#/definitions/response.Response-any'
        "400":
          description: Query parameter required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Semantic search
      tags:
      - Search
  /search/suggestions:
    get:
      consumes:
      - application/json
      description: Get autocomplete suggestions based on query prefix
      parameters:
      - description: Query prefix
        in: query
        name: q
        required: true
        type: string
      - default: 10
        description: Maximum suggestions
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Suggestions
          schema:
            $ref: '#/definitions/response.Response-map_string_array_string'
        "400":
          description: Query parameter required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Get search suggestions
      tags:
      - Search
  /search/trending:
    get:
      consumes:
      - application/json
      description: Get materials ranked by recent engagement (last 7 days)
      parameters:
      - description: Filter by category
        in: query
        name: category
        type: string
      - default: 20
        description: Maximum results
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Trending materials
          schema:
            $ref: '#/definitions/response.Response-any'
      summary: Get trending materials
      tags:
      - Search
  /upload-requests/{id}:
    delete:
      consumes:
      - application/json
      description: Revoke a previously approved upload permission
      parameters:
      - description: Upload Request ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Upload permission revoked
          schema:
            $ref: '#/definitions/response.Response-map_string_bool'
        "400":
          description: Invalid request ID
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Not the pod owner
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Upload request not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Revoke upload permission
      tags:
      - Upload Requests
  /upload-requests/{id}/approve:
    post:
      consumes:
      - application/json
      description: Approve an upload request, granting the requester permission to
        upload to your pod
      parameters:
      - description: Upload Request ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Upload request approved
          schema:
            $ref: '#/definitions/response.Response-map_string_bool'
        "400":
          description: Invalid request ID
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Not the pod owner
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Upload request not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Approve an upload request
      tags:
      - Upload Requests
  /upload-requests/{id}/reject:
    post:
      consumes:
      - application/json
      description: Reject an upload request with an optional reason
      parameters:
      - description: Upload Request ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - description: Optional rejection reason
        in: body
        name: request
        schema:
          $ref: '#/definitions/http.RejectUploadRequestInput'
      produces:
      - application/json
      responses:
        "200":
          description: Upload request rejected
          schema:
            $ref: '#/definitions/response.Response-map_string_bool'
        "400":
          description: Invalid request ID
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "403":
          description: Not the pod owner
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Upload request not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Reject an upload request
      tags:
      - Upload Requests
  /users/{id}:
    get:
      consumes:
      - application/json
      description: Get a user's public profile by ID. Includes follow status if authenticated.
      parameters:
      - description: User ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: User public profile
          schema:
            $ref: '#/definitions/response.Response-http_UserProfileResponse'
        "400":
          description: Invalid user ID
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get user public profile
      tags:
      - Users
  /users/{id}/follow:
    delete:
      consumes:
      - application/json
      description: Stop following a user
      parameters:
      - description: User ID to unfollow
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successfully unfollowed user
          schema:
            $ref: '#/definitions/response.Response-any'
        "400":
          description: Invalid user ID
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: Not following this user
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Unfollow a user
      tags:
      - Users
    post:
      consumes:
      - application/json
      description: Follow another user to see their activities in your feed
      parameters:
      - description: User ID to follow
        format: uuid
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Successfully followed user
          schema:
            $ref: '#/definitions/response.Response-any'
        "400":
          description: Invalid user ID or cannot follow yourself
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "409":
          description: Already following this user
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Follow a user
      tags:
      - Users
  /users/{id}/followers:
    get:
      consumes:
      - application/json
      description: Get a paginated list of users following the specified user
      parameters:
      - description: User ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of followers
          schema:
            $ref: '#/definitions/response.PaginatedResponse-http_UserResponse'
        "400":
          description: Invalid user ID
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Get user's followers
      tags:
      - Users
  /users/{id}/following:
    get:
      consumes:
      - application/json
      description: Get a paginated list of users that the specified user is following
      parameters:
      - description: User ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of followed users
          schema:
            $ref: '#/definitions/response.PaginatedResponse-http_UserResponse'
        "400":
          description: Invalid user ID
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Get users being followed
      tags:
      - Users
  /users/{id}/pods:
    get:
      consumes:
      - application/json
      description: Get a paginated list of pods owned by a user
      parameters:
      - description: User ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of user's pods
          schema:
            $ref: '#/definitions/response.PaginatedResponse-domain_Pod'
        "400":
          description: Invalid user ID
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Get user's pods
      tags:
      - Pods
  /users/{id}/starred:
    get:
      consumes:
      - application/json
      description: Get a paginated list of pods starred by a user
      parameters:
      - description: User ID
        format: uuid
        in: path
        name: id
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of starred pods
          schema:
            $ref: '#/definitions/response.PaginatedResponse-domain_Pod'
        "400":
          description: Invalid user ID
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      summary: Get user's starred pods
      tags:
      - Pods
  /users/me:
    get:
      consumes:
      - application/json
      description: Get the authenticated user's full profile including private fields
      produces:
      - application/json
      responses:
        "200":
          description: User profile
          schema:
            $ref: '#/definitions/response.Response-http_UserResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get current user profile
      tags:
      - Users
    put:
      consumes:
      - application/json
      description: Update the authenticated user's profile information
      parameters:
      - description: Profile update data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.UpdateProfileRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Updated user profile
          schema:
            $ref: '#/definitions/response.Response-http_UserResponse'
        "400":
          description: Invalid request body
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update current user profile
      tags:
      - Users
  /users/me/ai-usage:
    get:
      consumes:
      - application/json
      description: Get the authenticated user's AI usage, daily limit, and remaining
        messages
      produces:
      - application/json
      responses:
        "200":
          description: AI usage information
          schema:
            $ref: '#/definitions/response.Response-http_AIUsageInfoResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get current user AI usage info
      tags:
      - Users
  /users/me/downvoted-pods:
    get:
      consumes:
      - application/json
      description: Get a paginated list of pods downvoted by the current user
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of downvoted pods
          schema:
            $ref: '#/definitions/response.PaginatedResponse-domain_Pod'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get current user's downvoted pods
      tags:
      - Pods
  /users/me/shared-pods:
    get:
      consumes:
      - application/json
      description: Get a paginated list of pods that have been shared with the current
        user by teachers
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of shared pods
          schema:
            $ref: '#/definitions/response.PaginatedResponse-domain_SharedPodWithDetails'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get pods shared with the current user
      tags:
      - Shared Pods
  /users/me/storage:
    get:
      consumes:
      - application/json
      description: Get the authenticated user's storage usage, quota, and tier information
      produces:
      - application/json
      responses:
        "200":
          description: Storage information
          schema:
            $ref: '#/definitions/response.Response-http_StorageInfoResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get current user storage info
      tags:
      - Users
  /users/me/tier:
    put:
      consumes:
      - application/json
      description: Update the authenticated user's subscription tier
      parameters:
      - description: Tier update data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.UpdateTierRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Updated tier info
          schema:
            $ref: '#/definitions/response.Response-http_UpdateTierResponse'
        "400":
          description: Invalid request body or tier value
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update current user tier
      tags:
      - Users
  /users/me/upload-requests:
    get:
      consumes:
      - application/json
      description: Get a paginated list of upload requests received by the current
        user (as pod owner)
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        name: per_page
        type: integer
      - description: Filter by status
        enum:
        - pending
        - approved
        - rejected
        - revoked
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: List of upload requests
          schema:
            $ref: '#/definitions/response.PaginatedResponse-domain_UploadRequest'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get upload requests for the current user
      tags:
      - Upload Requests
  /users/me/upvoted-pods:
    get:
      consumes:
      - application/json
      description: Get a paginated list of pods upvoted by the current user
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 20
        description: Items per page
        in: query
        name: per_page
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List of upvoted pods
          schema:
            $ref: '#/definitions/response.PaginatedResponse-domain_Pod'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get current user's upvoted pods
      tags:
      - Pods
  /users/verification/status:
    get:
      consumes:
      - application/json
      description: Get the current user's teacher verification status
      produces:
      - application/json
      responses:
        "200":
          description: Verification status
          schema:
            $ref: '#/definitions/response.Response-http_TeacherVerificationResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "404":
          description: No verification request found
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get verification status
      tags:
      - Verification
  /users/verification/teacher:
    post:
      consumes:
      - application/json
      description: Submit a request to become a verified teacher with identity documents
      parameters:
      - description: Verification details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/http.SubmitVerificationRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Verification request created
          schema:
            $ref: '#/definitions/response.Response-http_TeacherVerificationResponse'
        "400":
          description: Invalid request body or validation error
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "401":
          description: Authentication required
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
        "409":
          description: Verification request already exists or user is already a teacher
          schema:
            $ref: '#/definitions/errors.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Submit teacher verification request
      tags:
      - Verification
securityDefinitions:
  BearerAuth:
    description: 'JWT Bearer token. Format: "Bearer {token}"'
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
